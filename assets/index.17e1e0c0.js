import{c as e,a as n,C as a}from"./Checkbox.a2286f2d.js";import{aD as t,d as u,O as l,b as r,P as o,l as i,G as v,c,z as f,n as d}from"./index.48f34480.js";import{a as s}from"./FormItemContext.1c14973d.js";const m=u({name:"ACheckboxGroup",props:e(),setup:function(e,u){var m=u.slots,p=u.emit,b=u.expose,h=s(),y=l("checkbox",e),g=y.prefixCls,x=y.direction,C=r((void 0===e.value?e.defaultValue:e.value)||[]);o((function(){return e.value}),(function(){C.value=e.value||[]}));var w=i((function(){return e.options.map((function(e){return"string"==typeof e||"number"==typeof e?{label:e,value:e}:e}))})),S=r(Symbol()),k=r(new Map),I=r(new Map);o(S,(function(){var e,n=new Map,a=function(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=t(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var u=0,l=function(){};return{s:l,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,r=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw r}}}}(k.value.values());try{for(a.s();!(e=a.n()).done;){var u=e.value;n.set(u,!0)}}catch(l){a.e(l)}finally{a.f()}I.value=n}));return v(n,{cancelValue:function(e){k.value.delete(e),S.value=Symbol()},registerValue:function(e,n){k.value.set(e,n),S.value=Symbol()},toggleOption:function(n){var a=C.value.indexOf(n.value),t=d(C.value);-1===a?t.push(n.value):t.splice(a,1),void 0===e.value&&(C.value=t);var u=t.filter((function(e){return I.value.has(e)})).sort((function(e,n){return w.value.findIndex((function(n){return n.value===e}))-w.value.findIndex((function(e){return e.value===n}))}));p("update:value",u),p("change",u),h.onFieldChange()},mergedValue:C,name:i((function(){return e.name})),disabled:i((function(){return e.disabled}))}),b({mergedValue:C}),function(){var n,t=e.id,u=void 0===t?h.id.value:t,l=null,r="".concat(g.value,"-group");return w.value&&w.value.length>0&&(l=w.value.map((function(n){var t;return c(a,{prefixCls:g.value,key:n.value.toString(),disabled:"disabled"in n?n.disabled:e.disabled,indeterminate:n.indeterminate,value:n.value,checked:-1!==C.value.indexOf(n.value),onChange:n.onChange,class:"".concat(r,"-item")},{default:function(){return[void 0===n.label?null===(t=m.label)||void 0===t?void 0:t.call(m,n):n.label]}})}))),c("div",{class:[r,f({},"".concat(r,"-rtl"),"rtl"===x.value)],id:u},[l||(null===(n=m.default)||void 0===n?void 0:n.call(m))])}}});a.Group=m,a.install=function(e){return e.component(a.name,a),e.component(m.name,m),e};export{m as A};
