import{Y as e,Z as n,c as t,A as a,d as o,G as r,l,m as i,z as c,a4 as d,$ as u,b as s,r as v,at as f,aT as p,q as y,aY as h,N as g,J as b,av as k,s as K,n as m,a2 as x,I as O,bE as w,ar as S,P as C,a1 as N,au as E,a$ as P,a_ as D,Q as T,a5 as j,K as L,ao as A,bj as F,a6 as I,b9 as B,X as M,x as _,y as H}from"./index.70334207.js";import{L as R}from"./List.906e773d.js";function G(t){var a=e();return n((function(){a.value=t()}),{flush:"sync"}),a}const z={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){q(e,n,t[n])}))}return e}function q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var W=function(e,n){var o=V({},e,n.attrs);return t(a,V({},o,{icon:z}),null)};W.displayName="CaretDownFilled",W.inheritAttrs=!1;const Y=W;const X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){J(e,n,t[n])}))}return e}function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Q=function(e,n){var o=$({},e,n.attrs);return t(a,$({},o,{icon:X}),null)};Q.displayName="FileOutlined",Q.inheritAttrs=!1;const U=Q;const Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){ne(e,n,t[n])}))}return e}function ne(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var te=function(e,n){var o=ee({},e,n.attrs);return t(a,ee({},o,{icon:Z}),null)};te.displayName="MinusSquareOutlined",te.inheritAttrs=!1;const ae=te;const oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){le(e,n,t[n])}))}return e}function le(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ie=function(e,n){var o=re({},e,n.attrs);return t(a,re({},o,{icon:oe}),null)};ie.displayName="PlusSquareOutlined",ie.inheritAttrs=!1;const ce=ie;var de=Symbol("TreeContextKey"),ue=o({name:"TreeContext",props:{value:{type:Object}},setup:function(e,n){var t=n.slots;return r(de,l((function(){return e.value}))),function(){var e;return null===(e=t.default)||void 0===e?void 0:e.call(t)}}}),se=function(){return i(de,l((function(){return{}})))},ve=Symbol("KeysStateKey"),fe=function(){return i(ve,{expandedKeys:e([]),selectedKeys:e([]),loadedKeys:e([]),loadingKeys:e([]),checkedKeys:e([]),halfCheckedKeys:e([]),expandedKeysSet:l((function(){return new Set})),selectedKeysSet:l((function(){return new Set})),loadedKeysSet:l((function(){return new Set})),loadingKeysSet:l((function(){return new Set})),checkedKeysSet:l((function(){return new Set})),halfCheckedKeysSet:l((function(){return new Set})),flattenNodes:e([])})};const pe=function(e){for(var n=e.prefixCls,a=e.level,o=e.isStart,r=e.isEnd,l="".concat(n,"-indent-unit"),i=[],d=0;d<a;d+=1){var u;i.push(t("span",{key:d,class:(u={},c(u,l,!0),c(u,"".concat(l,"-start"),o[d]),c(u,"".concat(l,"-end"),r[d]),u)},null))}return t("span",{"aria-hidden":"true",class:"".concat(n,"-indent")},[i])};var ye={eventKey:[String,Number],prefixCls:String,title:d.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:d.any,switcherIcon:d.any,domRef:{type:Function}},he={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},ge=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:d.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:d.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:d.any,switcherIcon:d.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},be=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t};const ke=o({name:"TreeNode",inheritAttrs:!1,props:ye,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,n){var a=n.attrs,o=n.slots,r=n.expose;u(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map((function(e){return"`v-slot:"+e+"` "})),"instead"));var i=s(!1),d=se(),K=fe(),m=K.expandedKeysSet,x=K.selectedKeysSet,O=K.loadedKeysSet,w=K.loadingKeysSet,S=K.checkedKeysSet,C=K.halfCheckedKeysSet,N=d.value,E=N.dragOverNodeKey,P=N.dropPosition,D=N.keyEntities,T=l((function(){return Ie(e.eventKey,{expandedKeysSet:m.value,selectedKeysSet:x.value,loadedKeysSet:O.value,loadingKeysSet:w.value,checkedKeysSet:S.value,halfCheckedKeysSet:C.value,dragOverNodeKey:E,dropPosition:P,keyEntities:D})})),j=G((function(){return T.value.expanded})),L=G((function(){return T.value.selected})),A=G((function(){return T.value.checked})),F=G((function(){return T.value.loaded})),I=G((function(){return T.value.loading})),B=G((function(){return T.value.halfChecked})),M=G((function(){return T.value.dragOver})),_=G((function(){return T.value.dragOverGapTop})),H=G((function(){return T.value.dragOverGapBottom})),R=G((function(){return T.value.pos})),z=s(),V=l((function(){var n=e.eventKey;return!!((d.value.keyEntities[n]||{}).children||[]).length})),q=l((function(){var n=e.isLeaf,t=d.value.loadData,a=V.value;return!1!==n&&(n||!t&&!a||t&&F.value&&!a)})),W=l((function(){return q.value?null:j.value?"open":"close"})),Y=l((function(){var n=e.disabled;return!(!d.value.disabled&&!n)})),X=l((function(){var n=e.checkable,t=d.value.checkable;return!(!t||!1===n)&&t})),$=l((function(){var n=e.selectable,t=d.value.selectable;return"boolean"==typeof n?n:t})),J=l((function(){var n=e.data,t=e.active,a=e.checkable,o=e.disableCheckbox,r=e.disabled,l=e.selectable;return y(y({active:t,checkable:a,disableCheckbox:o,disabled:r,selectable:l},n),{dataRef:n,data:n,isLeaf:q.value,checked:A.value,expanded:j.value,loading:I.value,selected:L.value,halfChecked:B.value})})),Q=k(),U=l((function(){var n=e.eventKey,t=(d.value.keyEntities[n]||{}).parent;return y(y({},Be(y({},e,T.value))),{parent:t})})),Z=v({eventData:U,eventKey:l((function(){return e.eventKey})),selectHandle:z,pos:R,key:Q.vnode.key});r(Z);var ee=function(e){(0,d.value.onNodeDoubleClick)(e,U.value)},ne=function(n){if(!Y.value){var t=e.disableCheckbox,a=d.value.onNodeCheck;if(X.value&&!t){n.preventDefault();var o=!A.value;a(n,U.value,o)}}},te=function(e){(0,d.value.onNodeClick)(e,U.value),$.value?function(e){if(!Y.value){var n=d.value.onNodeSelect;e.preventDefault(),n(e,U.value)}}(e):ne(e)},ae=function(e){(0,d.value.onNodeMouseEnter)(e,U.value)},oe=function(e){(0,d.value.onNodeMouseLeave)(e,U.value)},re=function(e){(0,d.value.onNodeContextMenu)(e,U.value)},le=function(e){var n=d.value.onNodeDragStart;e.stopPropagation(),i.value=!0,n(e,Z);try{e.dataTransfer.setData("text/plain","")}catch(t){}},ie=function(e){var n=d.value.onNodeDragEnter;e.preventDefault(),e.stopPropagation(),n(e,Z)},ce=function(e){var n=d.value.onNodeDragOver;e.preventDefault(),e.stopPropagation(),n(e,Z)},de=function(e){var n=d.value.onNodeDragLeave;e.stopPropagation(),n(e,Z)},ue=function(e){var n=d.value.onNodeDragEnd;e.stopPropagation(),i.value=!1,n(e,Z)},ve=function(e){var n=d.value.onNodeDrop;e.preventDefault(),e.stopPropagation(),i.value=!1,n(e,Z)},ye=function(e){var n=d.value.onNodeExpand;I.value||n(e,U.value)},he=function(){var e=d.value,n=e.draggable,a=e.prefixCls;return(null==n?void 0:n.icon)?t("span",{class:"".concat(a,"-draggable-icon")},[n.icon]):null},ge=function(){var e=d.value,n=e.loadData,t=e.onNodeLoad;I.value||n&&j.value&&!q.value&&(V.value||F.value||t(U.value))};f((function(){ge()})),p((function(){ge()}));var ke=function(){var n,a,r,l,i,c,u,s=d.value.prefixCls,v=(l=e.switcherIcon,i=void 0===l?o.switcherIcon||(null===(n=d.value.slots)||void 0===n?void 0:n[null===(r=null===(a=e.data)||void 0===a?void 0:a.slots)||void 0===r?void 0:r.switcherIcon]):l,c=d.value.switcherIcon,"function"==typeof(u=i||c)?u(J.value):u);if(q.value)return!1!==v?t("span",{class:b("".concat(s,"-switcher"),"".concat(s,"-switcher-noop"))},[v]):null;var f=b("".concat(s,"-switcher"),"".concat(s,"-switcher_").concat(j.value?"open":"close"));return!1!==v?t("span",{onClick:ye,class:f},[v]):null},Ke=function(){var n,a,o=e.disableCheckbox,r=d.value.prefixCls,l=Y.value;return X.value?t("span",{class:b("".concat(r,"-checkbox"),A.value&&"".concat(r,"-checkbox-checked"),!A.value&&B.value&&"".concat(r,"-checkbox-indeterminate"),(l||o)&&"".concat(r,"-checkbox-disabled")),onClick:ne},[null===(a=(n=d.value).customCheckable)||void 0===a?void 0:a.call(n)]):null},me=function(){var e=d.value.prefixCls;return t("span",{class:b("".concat(e,"-iconEle"),"".concat(e,"-icon__").concat(W.value||"docu"),I.value&&"".concat(e,"-icon_loading"))},null)},xe=function(){var n=e.disabled,t=e.eventKey,a=d.value,o=a.draggable,r=a.dropLevelOffset,l=a.dropPosition,i=a.prefixCls,c=a.indent,u=a.dropIndicatorRender,s=a.dragOverNodeKey,v=a.direction;return!n&&!1!==o&&s===t?u({dropPosition:l,dropLevelOffset:r,indent:c,prefixCls:i,direction:v}):null},Oe=function(){var n,a,r,l,c,u,s,v,f=e.icon,p=void 0===f?o.icon:f,y=e.data,h=o.title||(null===(n=d.value.slots)||void 0===n?void 0:n[null===(r=null===(a=e.data)||void 0===a?void 0:a.slots)||void 0===r?void 0:r.title])||(null===(l=d.value.slots)||void 0===l?void 0:l.title)||e.title,g=d.value,k=g.prefixCls,K=g.showIcon,m=g.icon,x=g.loadData,O=Y.value,w="".concat(k,"-node-content-wrapper");if(K){var S=p||(null===(c=d.value.slots)||void 0===c?void 0:c[null===(u=null==y?void 0:y.slots)||void 0===u?void 0:u.icon])||m;s=S?t("span",{class:b("".concat(k,"-iconEle"),"".concat(k,"-icon__customize"))},["function"==typeof S?S(J.value):S]):me()}else x&&I.value&&(s=me());v=void 0===(v="function"==typeof h?h(J.value):h)?"---":v;var C=t("span",{class:"".concat(k,"-title")},[v]);return t("span",{ref:z,title:"string"==typeof h?h:"",class:b("".concat(w),"".concat(w,"-").concat(W.value||"normal"),!O&&(L.value||i.value)&&"".concat(k,"-node-selected")),onMouseenter:ae,onMouseleave:oe,onContextmenu:re,onClick:te,onDblclick:ee},[s,C,xe()])};return function(){var n,o=y(y({},e),a),r=o.eventKey,l=o.isLeaf,i=o.isStart,u=o.isEnd,s=o.domRef,v=o.active;o.data;var f,p,k=o.onMousemove,K=o.selectable,m=be(o,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),x=d.value,O=x.prefixCls,w=x.filterTreeNode,S=x.keyEntities,C=x.dropContainerKey,N=x.dropTargetKey,E=x.draggingNodeKey,P=Y.value,D=h(m,{aria:!0,data:!0}),T=(S[r]||{}).level,F=u[u.length-1],R=(f=e.data,!(!(p=d.value.draggable)||p.nodeDraggable&&!p.nodeDraggable(f))),G=!P&&R,z=E===r,V=void 0!==K?{"aria-selected":!!K}:void 0;return t("div",g(g({ref:s,class:b(a.class,"".concat(O,"-treenode"),(n={},c(n,"".concat(O,"-treenode-disabled"),P),c(n,"".concat(O,"-treenode-switcher-").concat(j.value?"open":"close"),!l),c(n,"".concat(O,"-treenode-checkbox-checked"),A.value),c(n,"".concat(O,"-treenode-checkbox-indeterminate"),B.value),c(n,"".concat(O,"-treenode-selected"),L.value),c(n,"".concat(O,"-treenode-loading"),I.value),c(n,"".concat(O,"-treenode-active"),v),c(n,"".concat(O,"-treenode-leaf-last"),F),c(n,"".concat(O,"-treenode-draggable"),G),c(n,"dragging",z),c(n,"drop-target",N===r),c(n,"drop-container",C===r),c(n,"drag-over",!P&&M.value),c(n,"drag-over-gap-top",!P&&_.value),c(n,"drag-over-gap-bottom",!P&&H.value),c(n,"filter-node",w&&w(U.value)),n)),style:a.style,draggable:G,"aria-grabbed":z,onDragstart:G?le:void 0,onDragenter:R?ie:void 0,onDragover:R?ce:void 0,onDragleave:R?de:void 0,onDrop:R?ve:void 0,onDragend:R?ue:void 0,onMousemove:k},V),D),[t(pe,{prefixCls:O,level:T,isStart:i,isEnd:u},null),he(),ke(),Ke(),Oe()])}}});function Ke(e,n){if(!e)return[];var t=e.slice(),a=t.indexOf(n);return a>=0&&t.splice(a,1),t}function me(e,n){var t=(e||[]).slice();return-1===t.indexOf(n)&&t.push(n),t}function xe(e){return e.split("-")}function Oe(e,n){return"".concat(e,"-").concat(n)}function we(e){return e&&e.type&&e.type.isTreeNode}function Se(e){if(e.parent){var n=xe(e.pos);return Number(n[n.length-1])===e.parent.children.length-1}return!1}function Ce(e,n,t,a,o,r,l,i,c,d){var u,s=e.clientX,v=e.clientY,f=e.target.getBoundingClientRect(),p=f.top,y=f.height,h=(("rtl"===d?-1:1)*(((null==o?void 0:o.x)||0)-s)-12)/a,g=i[t.eventKey];if(v<p+y/2){var b=l.findIndex((function(e){return e.key===g.key})),k=l[b<=0?0:b-1].key;g=i[k]}var K=g.key,m=g,x=g.key,O=0,w=0;if(!c.has(K))for(var S=0;S<h&&Se(g);S+=1)g=g.parent,w+=1;var C,N=n.eventData,E=g.node,P=!0;return C=xe(g.pos),0===Number(C[C.length-1])&&0===g.level&&v<p+y/2&&r({dragNode:N,dropNode:E,dropPosition:-1})&&g.key===t.eventKey?O=-1:(m.children||[]).length&&c.has(x)?r({dragNode:N,dropNode:E,dropPosition:0})?O=0:P=!1:0===w?h>-1.5?r({dragNode:N,dropNode:E,dropPosition:1})?O=1:P=!1:r({dragNode:N,dropNode:E,dropPosition:0})?O=0:r({dragNode:N,dropNode:E,dropPosition:1})?O=1:P=!1:r({dragNode:N,dropNode:E,dropPosition:1})?O=1:P=!1,{dropPosition:O,dropLevelOffset:w,dropTargetKey:g.key,dropTargetPos:g.pos,dragOverNodeKey:x,dropContainerKey:0===O?null:(null===(u=g.parent)||void 0===u?void 0:u.key)||null,dropAllowed:P}}function Ne(e,n){if(e)return n.multiple?e.slice():e.length?[e[0]]:e}function Ee(e){if(!e)return null;var n;if(Array.isArray(e))n={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==K(e))return null;n={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return n}function Pe(e,n){var t=new Set;function a(e){if(!t.has(e)){var o=n[e];if(o){t.add(e);var r=o.parent;o.node.disabled||r&&a(r.key)}}}return(e||[]).forEach((function(e){a(e)})),m(t)}globalThis&&globalThis.__rest;var De=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t};function Te(e,n){return null!=e?e:n}function je(e){var n=e||{},t=n.title||"title";return{title:t,_title:n._title||[t],key:n.key||"key",children:n.children||"children"}}function Le(e){return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=x(n);return t.map((function(n){var t,a,o,r;if(!we(n))return null;for(var l=n.children||{},i=n.key,c={},d=0,u=Object.entries(n.props);d<u.length;d++){var s=O(u[d],2),v=s[0],f=s[1];c[w(v)]=f}var p=c.isLeaf,h=c.checkable,g=c.selectable,b=c.disabled,k=c.disableCheckbox,K={isLeaf:p||""===p||void 0,checkable:h||""===h||void 0,selectable:g||""===g||void 0,disabled:b||""===b||void 0,disableCheckbox:k||""===k||void 0},m=y(y({},c),K),x=c.title,S=void 0===x?null===(t=l.title)||void 0===t?void 0:t.call(l,m):x,C=c.icon,N=void 0===C?null===(a=l.icon)||void 0===a?void 0:a.call(l,m):C,E=c.switcherIcon,P=void 0===E?null===(o=l.switcherIcon)||void 0===o?void 0:o.call(l,m):E,D=De(c,["title","icon","switcherIcon"]),T=null===(r=l.default)||void 0===r?void 0:r.call(l),j=y(y(y({},D),{title:S,icon:N,switcherIcon:P,key:i,isLeaf:p}),K),L=e(T);return L.length&&(j.children=L),j}))}(e)}function Ae(e,n,t){var a,o=("object"===K(t)?t:{externalGetKey:t})||{},r=o.childrenPropName,l=o.externalGetKey,i=je(o.fieldNames),c=i.key,d=i.children,u=r||d;l?"string"==typeof l?a=function(e){return e[l]}:"function"==typeof l&&(a=function(e){return l(e)}):a=function(e,n){return Te(e[c],n)},function t(o,r,l,i){var c=o?o[u]:e,d=o?Oe(l.pos,r):"0",s=o?[].concat(m(i),[o]):[];if(o){var v=a(o,d),f={node:o,index:r,pos:d,key:v,parentPos:l.node?l.pos:null,level:l.level+1,nodes:s};n(f)}c&&c.forEach((function(e,n){t(e,n,{node:o,pos:d,level:l?l.level+1:-1},s)}))}(null)}function Fe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.initWrapper,a=n.processEntity,o=n.onProcessFinished,r=n.externalGetKey,l=n.childrenPropName,i=n.fieldNames,c=arguments.length>2?arguments[2]:void 0,d=r||c,u={},s={},v={posEntities:u,keyEntities:s};return t&&(v=t(v)||v),Ae(e,(function(e){var n=e.node,t=e.index,o=e.pos,r=e.key,l=e.parentPos,i=e.level,c={node:n,nodes:e.nodes,index:t,key:r,pos:o,level:i},d=Te(r,o);u[o]=c,s[d]=c,c.parent=u[l],c.parent&&(c.parent.children=c.parent.children||[],c.parent.children.push(c)),a&&a(c,v)}),{externalGetKey:d,childrenPropName:l,fieldNames:i}),o&&o(v),v}function Ie(e,n){var t=n.expandedKeysSet,a=n.selectedKeysSet,o=n.loadedKeysSet,r=n.loadingKeysSet,l=n.checkedKeysSet,i=n.halfCheckedKeysSet,c=n.dragOverNodeKey,d=n.dropPosition,u=n.keyEntities[e];return{eventKey:e,expanded:t.has(e),selected:a.has(e),loaded:o.has(e),loading:r.has(e),checked:l.has(e),halfChecked:i.has(e),pos:String(u?u.pos:""),parent:u.parent,dragOver:c===e&&0===d,dragOverGapTop:c===e&&-1===d,dragOverGapBottom:c===e&&1===d}}function Be(e){var n=e.data,t=e.expanded,a=e.selected,o=e.checked,r=e.loaded,l=e.loading,i=e.halfChecked,c=e.dragOver,d=e.dragOverGapTop,u=e.dragOverGapBottom,s=e.pos,v=e.active,f=e.eventKey,p=y(y({dataRef:n},n),{expanded:t,selected:a,checked:o,loaded:r,loading:l,halfChecked:i,dragOver:c,dragOverGapTop:d,dragOverGapBottom:u,pos:s,active:v,eventKey:f,key:f});return"props"in p||Object.defineProperty(p,"props",{get:function(){return e}}),p}function Me(e,n){var t=new Set;return e.forEach((function(e){n.has(e)||t.add(e)})),t}function _e(e){var n=e||{},t=n.disabled,a=n.disableCheckbox,o=n.checkable;return!(!t&&!a)||!1===o}function He(e,n,t,a,o,r){var l;l=r||_e;var i,c=new Set(e.filter((function(e){return!!t[e]})));return i=!0===n?function(e,n,t,a){for(var o=new Set(e),r=new Set,l=0;l<=t;l+=1)(n.get(l)||new Set).forEach((function(e){var n=e.key,t=e.node,r=e.children,l=void 0===r?[]:r;o.has(n)&&!a(t)&&l.filter((function(e){return!a(e.node)})).forEach((function(e){o.add(e.key)}))}));for(var i=new Set,c=t;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!a(t)&&e.parent&&!i.has(e.parent.key))if(a(e.parent.node))i.add(n.key);else{var l=!0,c=!1;(n.children||[]).filter((function(e){return!a(e.node)})).forEach((function(e){var n=e.key,t=o.has(n);l&&!t&&(l=!1),c||!t&&!r.has(n)||(c=!0)})),l&&o.add(n.key),c&&r.add(n.key),i.add(n.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Me(r,o))}}(c,o,a,l):function(e,n,t,a,o){for(var r=new Set(e),l=new Set(n),i=0;i<=a;i+=1)(t.get(i)||new Set).forEach((function(e){var n=e.key,t=e.node,a=e.children,i=void 0===a?[]:a;r.has(n)||l.has(n)||o(t)||i.filter((function(e){return!o(e.node)})).forEach((function(e){r.delete(e.key)}))}));l=new Set;for(var c=new Set,d=a;d>=0;d-=1)(t.get(d)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!o(t)&&e.parent&&!c.has(e.parent.key))if(o(e.parent.node))c.add(n.key);else{var a=!0,i=!1;(n.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var n=e.key,t=r.has(n);a&&!t&&(a=!1),i||!t&&!l.has(n)||(i=!0)})),a||r.delete(n.key),i&&l.add(n.key),c.add(n.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(Me(l,r))}}(c,n.halfCheckedKeys,o,a,l),i}function Re(t){var a=s(0),o=e();return n((function(){var e=new Map,n=0,r=t.value||{};for(var l in r)if(Object.prototype.hasOwnProperty.call(r,l)){var i=r[l],c=i.level,d=e.get(c);d||(d=new Set,e.set(c,d)),d.add(i),n=Math.max(n,c)}a.value=n,o.value=e})),{maxLevel:a,levelEntities:o}}var Ge=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t};const ze=o({name:"MotionTreeNode",inheritAttrs:!1,props:y(y({},ye),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,n){var a=n.attrs,o=n.slots,r=s(!0),i=se(),c=s(!1),d=l((function(){return e.motion?e.motion:T()})),u=function(n,t){var a,o,r,l;"appear"===t?null===(o=null===(a=d.value)||void 0===a?void 0:a.onAfterEnter)||void 0===o||o.call(a,n):"leave"===t&&(null===(l=null===(r=d.value)||void 0===r?void 0:r.onAfterLeave)||void 0===l||l.call(r,n)),c.value||e.onMotionEnd(),c.value=!0};return C((function(){return e.motionNodes}),(function(){e.motionNodes&&"hide"===e.motionType&&r.value&&j((function(){r.value=!1}))}),{immediate:!0,flush:"post"}),f((function(){e.motionNodes&&e.onMotionStart()})),N((function(){e.motionNodes&&u()})),function(){e.motion;var n=e.motionNodes,l=e.motionType,c=e.active,v=e.eventKey,f=Ge(e,["motion","motionNodes","motionType","active","eventKey"]);return n?t(D,g(g({},d.value),{},{appear:"show"===l,onAfterAppear:function(e){return u(e,"appear")},onAfterLeave:function(e){return u(e,"leave")}}),{default:function(){return[E(t("div",{class:"".concat(i.value.prefixCls,"-treenode-motion")},[n.map((function(e){var n=Ge(e.data,[]),a=e.title,r=e.key,l=e.isStart,i=e.isEnd;return delete n.children,t(ke,g(g({},n),{},{title:a,active:c,data:e.data,key:r,eventKey:r,isStart:l,isEnd:i}),o)}))]),[[P,r.value]])]}}):t(ke,g(g({domRef:s,class:a.class,style:a.style},f),{},{active:c,eventKey:v}),o)}}});function Ve(e,n,t){var a=e.findIndex((function(e){return e.key===t})),o=e[a+1],r=n.findIndex((function(e){return e.key===t}));if(o){var l=n.findIndex((function(e){return e.key===o.key}));return n.slice(r+1,l)}return n.slice(r+1)}var qe=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t},We={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ye=function(){},Xe="RC_TREE_MOTION_".concat(Math.random()),$e={key:Xe},Je={key:Xe,level:0,index:0,pos:"0",node:$e,nodes:[$e]},Qe={parent:null,children:[],pos:Je.pos,data:$e,title:null,key:Xe,isStart:[],isEnd:[]};function Ue(e,n,t,a){return!1!==n&&t?e.slice(0,Math.ceil(t/a)+1):e}function Ze(e){return Te(e.key,e.pos)}function en(e){for(var n=String(e.key),t=e;t.parent;)t=t.parent,n="".concat(t.key," > ").concat(n);return n}const nn=o({name:"NodeList",inheritAttrs:!1,props:he,setup:function(n,a){var o=a.expose,r=a.attrs,i=s(),c=s(),d=fe(),u=d.expandedKeys,v=d.flattenNodes;o({scrollTo:function(e){i.value.scrollTo(e)},getIndentWidth:function(){return c.value.offsetWidth}});var f=e(v.value),p=e([]),h=s(null);function b(){f.value=v.value,p.value=[],h.value=null,n.onListChangeEnd()}var k=se();C([function(){return u.value.slice()},v],(function(e,t){var a=O(e,2),o=a[0],r=a[1],l=O(t,2),i=l[0],c=l[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.length,a=n.length;if(1!==Math.abs(t-a))return{add:!1,key:null};function o(e,n){var t=new Map;e.forEach((function(e){t.set(e,!0)}));var a=n.filter((function(e){return!t.has(e)}));return 1===a.length?a[0]:null}return t<a?{add:!0,key:o(e,n)}:{add:!1,key:o(n,e)}}(i,o);if(null!==d.key){var u=n.virtual,s=n.height,v=n.itemHeight;if(d.add){var y=c.findIndex((function(e){return e.key===d.key})),g=Ue(Ve(c,r,d.key),u,s,v),b=c.slice();b.splice(y+1,0,Qe),f.value=b,p.value=g,h.value="show"}else{var k=r.findIndex((function(e){return e.key===d.key})),K=Ue(Ve(r,c,d.key),u,s,v),m=r.slice();m.splice(k+1,0,Qe),f.value=m,p.value=K,h.value="hide"}}else c!==r&&(f.value=r)})),C((function(){return k.value.dragging}),(function(e){e||b()}));var K=l((function(){return void 0===n.motion?f.value:v.value})),m=function(){n.onActiveChange(null)};return function(){var e=y(y({},n),r),a=e.prefixCls;e.selectable,e.checkable;var o=e.disabled,l=e.motion,d=e.height,u=e.itemHeight,s=e.virtual,v=e.focusable,f=e.activeItem,k=e.focused,x=e.tabindex,O=e.onKeydown,w=e.onFocus,C=e.onBlur,N=e.onListChangeStart;e.onListChangeEnd;var E=qe(e,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return t(L,null,[k&&f&&t("span",{style:We,"aria-live":"assertive"},[en(f)]),t("div",null,[t("input",{style:We,disabled:!1===v||o,tabindex:!1!==v?x:null,onKeydown:O,onFocus:w,onBlur:C,value:"",onChange:Ye,"aria-label":"for screen reader"},null)]),t("div",{class:"".concat(a,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[t("div",{class:"".concat(a,"-indent")},[t("div",{ref:c,class:"".concat(a,"-indent-unit")},null)])]),t(R,g(g({},S(E,["onActiveChange"])),{},{data:K.value,itemKey:Ze,height:d,fullHeight:!1,virtual:s,itemHeight:u,prefixCls:"".concat(a,"-list"),ref:i,onVisibleChange:function(e,n){var t=new Set(e);n.filter((function(e){return!t.has(e)})).some((function(e){return Ze(e)===Xe}))&&b()}}),{default:function(e){var n=e.pos,a=qe(e.data,[]),o=e.title,r=e.key,i=e.isStart,c=e.isEnd,d=Te(r,n);return delete a.key,delete a.children,t(ze,g(g({},a),{},{eventKey:d,title:o,active:!!f&&r===f.key,data:e.data,isStart:i,isEnd:c,motion:l,motionNodes:r===Xe?p.value:null,motionType:h.value,onMotionStart:N,onMotionEnd:b,onMousemove:m}),null)}})])}}});const tn=o({name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:A(ge(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var n=e.dropPosition,a=e.dropLevelOffset,o=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(n){case-1:r.top=0,r.left="".concat(-a*o,"px");break;case 1:r.bottom=0,r.left="".concat(-a*o,"px");break;case 0:r.bottom=0,r.left="".concat(o)}return t("div",{style:r},null)},allowDrop:function(){return!0}}),setup:function(a,o){var i=o.attrs,d=o.slots,u=o.expose,f=s(!1),p={},k=s(),x=e([]),w=e([]),N=e([]),E=e([]),P=e([]),D=e([]),T={},L=v({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),A=e([]);C([function(){return a.treeData},function(){return a.children}],(function(){A.value=void 0!==a.treeData?I(a.treeData).slice():Le(I(a.children))}),{immediate:!0,deep:!0});var M=e({}),_=s(!1),H=s(null),R=s(!1),G=l((function(){return je(a.fieldNames)})),z=s(),V=null,q=null,W=null,Y=l((function(){return{expandedKeysSet:X.value,selectedKeysSet:$.value,loadedKeysSet:J.value,loadingKeysSet:Q.value,checkedKeysSet:U.value,halfCheckedKeysSet:Z.value,dragOverNodeKey:L.dragOverNodeKey,dropPosition:L.dropPosition,keyEntities:M.value}})),X=l((function(){return new Set(D.value)})),$=l((function(){return new Set(x.value)})),J=l((function(){return new Set(E.value)})),Q=l((function(){return new Set(P.value)})),U=l((function(){return new Set(w.value)})),Z=l((function(){return new Set(N.value)}));n((function(){if(A.value){var e=Fe(A.value,{fieldNames:G.value});M.value=y(c({},Xe,Je),e.keyEntities)}}));var ee=!1;C([function(){return a.expandedKeys},function(){return a.autoExpandParent},M],(function(e,n){var t=O(e,2);t[0];var o=t[1],r=O(n,2);r[0];var l=r[1],i=D.value;if(void 0!==a.expandedKeys||ee&&o!==l)i=a.autoExpandParent||!ee&&a.defaultExpandParent?Pe(a.expandedKeys,M.value):a.expandedKeys;else if(!ee&&a.defaultExpandAll){var c=y({},M.value);delete c[Xe],i=Object.keys(c).map((function(e){return c[e].key}))}else!ee&&a.defaultExpandedKeys&&(i=a.autoExpandParent||a.defaultExpandParent?Pe(a.defaultExpandedKeys,M.value):a.defaultExpandedKeys);i&&(D.value=i),ee=!0}),{immediate:!0});var ne=e([]);n((function(){ne.value=function(e,n,t){var a=je(t),o=a._title,r=a.key,l=a.children,i=new Set(!0===n?[]:n),c=[];return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.map((function(d,u){for(var s,v=Oe(a?a.pos:"0",u),f=Te(d[r],v),p=0;p<o.length;p+=1){var h=o[p];if(void 0!==d[h]){s=d[h];break}}var g=y(y({},S(d,[].concat(m(o),[r,l]))),{title:s,key:f,parent:a,pos:v,children:null,data:d,isStart:[].concat(m(a?a.isStart:[]),[0===u]),isEnd:[].concat(m(a?a.isEnd:[]),[u===t.length-1])});return c.push(g),!0===n||i.has(f)?g.children=e(d[l]||[],g):g.children=[],g}))}(e),c}(A.value,D.value,G.value)})),n((function(){a.selectable&&(void 0!==a.selectedKeys?x.value=Ne(a.selectedKeys,a):!ee&&a.defaultSelectedKeys&&(x.value=Ne(a.defaultSelectedKeys,a)))}));var te=Re(M),ae=te.maxLevel,oe=te.levelEntities;n((function(){var e;if(a.checkable&&(void 0!==a.checkedKeys?e=Ee(a.checkedKeys)||{}:!ee&&a.defaultCheckedKeys?e=Ee(a.defaultCheckedKeys)||{}:A.value&&(e=Ee(a.checkedKeys)||{checkedKeys:w.value,halfCheckedKeys:N.value}),e)){var n=e,t=n.checkedKeys,o=void 0===t?[]:t,r=n.halfCheckedKeys,l=void 0===r?[]:r;if(!a.checkStrictly){var i=He(o,!0,M.value,ae.value,oe.value);o=i.checkedKeys,l=i.halfCheckedKeys}w.value=o,N.value=l}})),n((function(){a.loadedKeys&&(E.value=a.loadedKeys)}));var re=function(){y(L,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},le=function(e){z.value.scrollTo(e)};C((function(){return a.activeKey}),(function(){void 0!==a.activeKey&&(H.value=a.activeKey)}),{immediate:!0}),C(H,(function(e){j((function(){null!==e&&le({key:e})}))}),{immediate:!0,flush:"post"});var ie=function(e){void 0===a.expandedKeys&&(D.value=e)},ce=function(){null!==L.draggingNodeKey&&y(L,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),V=null,W=null},de=function(e,n){var t=a.onDragend;L.dragOverNodeKey=null,ce(),null==t||t({event:e,node:n.eventData}),q=null},se=function e(n){de(n,null),window.removeEventListener("dragend",e)},fe=function(e,n){var t=a.onDragstart,o=n.eventKey,r=n.eventData;q=n,V={x:e.clientX,y:e.clientY};var l=Ke(D.value,o);L.draggingNodeKey=o,L.dragChildrenKeys=function(e,n){var t=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var a=n.key,o=n.children;t.push(a),e(o)}))}(n[e].children),t}(o,M.value),k.value=z.value.getIndentWidth(),ie(l),window.addEventListener("dragend",se),t&&t({event:e,node:r})},pe=function(e,n){var t=a.onDragenter,o=a.onExpand,r=a.allowDrop,l=a.direction,i=n.pos,c=n.eventKey;if(W!==c&&(W=c),q){var d=Ce(e,q,n,k.value,V,r,ne.value,M.value,X.value,l),u=d.dropPosition,s=d.dropLevelOffset,v=d.dropTargetKey,f=d.dropContainerKey,h=d.dropTargetPos,g=d.dropAllowed,b=d.dragOverNodeKey;-1===L.dragChildrenKeys.indexOf(v)&&g?(p||(p={}),Object.keys(p).forEach((function(e){clearTimeout(p[e])})),q.eventKey!==n.eventKey&&(p[i]=window.setTimeout((function(){if(null!==L.draggingNodeKey){var t=D.value.slice(),a=M.value[n.eventKey];a&&(a.children||[]).length&&(t=me(D.value,n.eventKey)),ie(t),o&&o(t,{node:n.eventData,expanded:!0,nativeEvent:e})}}),800)),q.eventKey!==v||0!==s?(y(L,{dragOverNodeKey:b,dropPosition:u,dropLevelOffset:s,dropTargetKey:v,dropContainerKey:f,dropTargetPos:h,dropAllowed:g}),t&&t({event:e,node:n.eventData,expandedKeys:D.value})):re()):re()}else re()},ye=function(e,n){var t=a.onDragover,o=a.allowDrop,r=a.direction;if(q){var l=Ce(e,q,n,k.value,V,o,ne.value,M.value,X.value,r),i=l.dropPosition,c=l.dropLevelOffset,d=l.dropTargetKey,u=l.dropContainerKey,s=l.dropAllowed,v=l.dropTargetPos,f=l.dragOverNodeKey;-1===L.dragChildrenKeys.indexOf(d)&&s&&(q.eventKey===d&&0===c?null===L.dropPosition&&null===L.dropLevelOffset&&null===L.dropTargetKey&&null===L.dropContainerKey&&null===L.dropTargetPos&&!1===L.dropAllowed&&null===L.dragOverNodeKey||re():i===L.dropPosition&&c===L.dropLevelOffset&&d===L.dropTargetKey&&u===L.dropContainerKey&&v===L.dropTargetPos&&s===L.dropAllowed&&f===L.dragOverNodeKey||y(L,{dropPosition:i,dropLevelOffset:c,dropTargetKey:d,dropContainerKey:u,dropTargetPos:v,dropAllowed:s,dragOverNodeKey:f}),t&&t({event:e,node:n.eventData}))}},he=function(e,n){W!==n.eventKey||e.currentTarget.contains(e.relatedTarget)||(re(),W=null);var t=a.onDragleave;t&&t({event:e,node:n.eventData})},ge=function(e,n){var t,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=L.dragChildrenKeys,l=L.dropPosition,i=L.dropTargetKey,c=L.dropTargetPos,d=L.dropAllowed;if(d){var u=a.onDrop;if(L.dragOverNodeKey=null,ce(),null!==i){var s=y(y({},Ie(i,I(Y.value))),{active:(null===(t=$e.value)||void 0===t?void 0:t.key)===i,data:M.value[i].node});r.indexOf(i);var v=xe(c),f={event:e,node:Be(s),dragNode:q?q.eventData:null,dragNodesKeys:[q.eventKey].concat(r),dropToGap:0!==l,dropPosition:l+Number(v[v.length-1])};o||null==u||u(f),q=null}}},be=function(e,n){var t=a.onClick;t&&t(e,n)},ke=function(e,n){var t=a.onDblclick;t&&t(e,n)},we=function(e,n){var t=x.value,o=a.onSelect,r=a.multiple,l=n.selected,i=n[G.value.key],c=!l;t=c?r?me(t,i):[i]:Ke(t,i);var d=M.value,u=t.map((function(e){var n=d[e];return n?n.node:null})).filter((function(e){return e}));void 0===a.selectedKeys&&(x.value=t),o&&o(t,{event:"select",selected:c,node:n,selectedNodes:u,nativeEvent:e})},Se=function(e,n,t){var o,r=a.checkStrictly,l=a.onCheck,i=n[G.value.key],c={event:"check",node:n,checked:t,nativeEvent:e},d=M.value;if(r){var u=t?me(w.value,i):Ke(w.value,i);o={checked:u,halfChecked:Ke(N.value,i)},c.checkedNodes=u.map((function(e){return d[e]})).filter((function(e){return e})).map((function(e){return e.node})),void 0===a.checkedKeys&&(w.value=u)}else{var s=He([].concat(m(w.value),[i]),!0,d,ae.value,oe.value),v=s.checkedKeys,f=s.halfCheckedKeys;if(!t){var p=new Set(v);p.delete(i);var y=He(Array.from(p),{checked:!1,halfCheckedKeys:f},d,ae.value,oe.value);v=y.checkedKeys,f=y.halfCheckedKeys}o=v,c.checkedNodes=[],c.checkedNodesPositions=[],c.halfCheckedKeys=f,v.forEach((function(e){var n=d[e];if(n){var t=n.node,a=n.pos;c.checkedNodes.push(t),c.checkedNodesPositions.push({node:t,pos:a})}})),void 0===a.checkedKeys&&(w.value=v,N.value=f)}l&&l(o,c)},De=function(e){var n=e[G.value.key],t=new Promise((function(t,o){var r=a.loadData,l=a.onLoad;if(!r||J.value.has(n)||Q.value.has(n))return null;r(e).then((function(){var o=me(E.value,n),r=Ke(P.value,n);l&&l(o,{event:"load",node:e}),void 0===a.loadedKeys&&(E.value=o),P.value=r,t()})).catch((function(e){var r=Ke(P.value,n);if(P.value=r,T[n]=(T[n]||0)+1,T[n]>=10){var l=me(E.value,n);void 0===a.loadedKeys&&(E.value=l),t()}o(e)})),P.value=me(P.value,n)}));return t.catch((function(){})),t},Ae=function(e,n){var t=a.onMouseenter;t&&t({event:e,node:n})},Me=function(e,n){var t=a.onMouseleave;t&&t({event:e,node:n})},_e=function(e,n){var t=a.onRightClick;t&&(e.preventDefault(),t({event:e,node:n}))},Ge=function(e){var n=a.onFocus;_.value=!0,n&&n(e)},ze=function(e){var n=a.onBlur;_.value=!1,Ye(null),n&&n(e)},Ve=function(e,n){var t=D.value,o=a.onExpand,r=a.loadData,l=n.expanded,i=n[G.value.key];if(!R.value){t.indexOf(i);var c=!l;if(t=c?me(t,i):Ke(t,i),ie(t),o&&o(t,{node:n,expanded:c,nativeEvent:e}),c&&r){var d=De(n);d&&d.then((function(){})).catch((function(e){var n=Ke(D.value,i);ie(n),Promise.reject(e)}))}}},qe=function(){R.value=!0},We=function(){setTimeout((function(){R.value=!1}))},Ye=function(e){var n=a.onActiveChange;H.value!==e&&(void 0!==a.activeKey&&(H.value=e),null!==e&&le({key:e}),n&&n(e))},$e=l((function(){return null===H.value?null:ne.value.find((function(e){return e.key===H.value}))||null})),Qe=function(e){var n=ne.value.findIndex((function(e){return e.key===H.value}));-1===n&&e<0&&(n=ne.value.length),n=(n+e+ne.value.length)%ne.value.length;var t=ne.value[n];if(t){var a=t.key;Ye(a)}else Ye(null)},Ue=l((function(){return Be(y(y({},Ie(H.value,Y.value)),{data:$e.value.data,active:!0}))})),Ze=function(e){var n=a.onKeydown,t=a.checkable,o=a.selectable;switch(e.which){case B.UP:Qe(-1),e.preventDefault();break;case B.DOWN:Qe(1),e.preventDefault()}var r=$e.value;if(r&&r.data){var l=!1===r.data.isLeaf||!!(r.data.children||[]).length,i=Ue.value;switch(e.which){case B.LEFT:l&&X.value.has(H.value)?Ve({},i):r.parent&&Ye(r.parent.key),e.preventDefault();break;case B.RIGHT:l&&!X.value.has(H.value)?Ve({},i):r.children&&r.children.length&&Ye(r.children[0].key),e.preventDefault();break;case B.ENTER:case B.SPACE:!t||i.disabled||!1===i.checkable||i.disableCheckbox?t||!o||i.disabled||!1===i.selectable||we({},i):Se({},i,!U.value.has(H.value))}}n&&n(e)};return u({onNodeExpand:Ve,scrollTo:le,onKeydown:Ze,selectedKeys:l((function(){return x.value})),checkedKeys:l((function(){return w.value})),halfCheckedKeys:l((function(){return N.value})),loadedKeys:l((function(){return E.value})),loadingKeys:l((function(){return P.value})),expandedKeys:l((function(){return D.value}))}),F((function(){window.removeEventListener("dragend",se),f.value=!0})),r(ve,{expandedKeys:D,selectedKeys:x,loadedKeys:E,loadingKeys:P,checkedKeys:w,halfCheckedKeys:N,expandedKeysSet:X,selectedKeysSet:$,loadedKeysSet:J,loadingKeysSet:Q,checkedKeysSet:U,halfCheckedKeysSet:Z,flattenNodes:ne}),function(){var e,n,o=L.draggingNodeKey,r=L.dropLevelOffset,l=L.dropContainerKey,u=L.dropTargetKey,s=L.dropPosition,v=L.dragOverNodeKey,f=a.prefixCls,p=a.showLine,m=a.focusable,x=a.tabindex,O=void 0===x?0:x,w=a.selectable,S=a.showIcon,C=a.icon,N=void 0===C?d.icon:C,E=a.switcherIcon,P=a.draggable,D=a.checkable,T=a.checkStrictly,j=a.disabled,A=a.motion,F=a.loadData,I=a.filterTreeNode,B=a.height,R=a.itemHeight,G=a.virtual,V=a.dropIndicatorRender,q=a.onContextmenu,W=a.onScroll,Y=a.direction,X=i.class,$=i.style,J=h(y(y({},a),i),{aria:!0,data:!0});return P&&(n="object"===K(P)?P:"function"==typeof P?{nodeDraggable:P}:{}),t(ue,{value:{prefixCls:f,selectable:w,showIcon:S,icon:N,switcherIcon:E,draggable:n,draggingNodeKey:o,checkable:D,customCheckable:d.checkable,checkStrictly:T,disabled:j,keyEntities:M.value,dropLevelOffset:r,dropContainerKey:l,dropTargetKey:u,dropPosition:s,dragOverNodeKey:v,dragging:null!==o,indent:k.value,direction:Y,dropIndicatorRender:V,loadData:F,filterTreeNode:I,onNodeClick:be,onNodeDoubleClick:ke,onNodeExpand:Ve,onNodeSelect:we,onNodeCheck:Se,onNodeLoad:De,onNodeMouseEnter:Ae,onNodeMouseLeave:Me,onNodeContextMenu:_e,onNodeDragStart:fe,onNodeDragEnter:pe,onNodeDragOver:ye,onNodeDragLeave:he,onNodeDragEnd:de,onNodeDrop:ge,slots:d}},{default:function(){return[t("div",{role:"tree",class:b(f,X,(e={},c(e,"".concat(f,"-show-line"),p),c(e,"".concat(f,"-focused"),_.value),c(e,"".concat(f,"-active-focused"),null!==H.value),e))},[t(nn,g({ref:z,prefixCls:f,style:$,disabled:j,selectable:w,checkable:!!D,motion:A,height:B,itemHeight:R,virtual:G,focusable:m,focused:_.value,tabindex:O,activeItem:$e.value,onFocus:Ge,onBlur:ze,onKeydown:Ze,onActiveChange:Ye,onListChangeStart:qe,onListChangeEnd:We,onContextmenu:q,onScroll:W},J),null)])]}})}}});function an(e,n,a,o){var r,l=o.isLeaf,i=o.expanded,c=n;if(o.loading)return t(M,{class:"".concat(e,"-switcher-loading-icon")},null);a&&"object"===K(a)&&(r=a.showLeafIcon);var d=null,u="".concat(e,"-switcher-icon");return l?(a&&(d="object"!==K(a)||r?t(U,{class:"".concat(e,"-switcher-line-icon")},null):t("span",{class:"".concat(e,"-switcher-leaf-line")},null)),d):(d=t(Y,{class:u},null),a&&(d=t(i?ae:ce,{class:"".concat(e,"-switcher-line-icon")},null)),"function"==typeof n?c=n(y(y({},o),{defaultIcon:d,switcherCls:u})):_(c)&&(c=H(c,{class:u})),c||d)}export{U as F,tn as T,ke as V,Fe as a,Pe as b,Le as c,ye as d,G as e,je as f,He as g,Ke as h,me as i,an as r,ge as t,Re as u};
