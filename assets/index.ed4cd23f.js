import{q as e,n,d as o,a4 as t,l as a,b as l,c as u,N as i,J as r,z as c,bH as s,m as p,au as d,as as v,G as f,at as m,P as g,aY as h,i as y,bI as b,K as S,b9 as w,a1 as C,I,bJ as x,r as O,ao as F,bK as T,Z as P,bz as E,x as V,s as N,av as A,a6 as D,a5 as R,ar as M,aw as B,Y as k,bx as _,b2 as j,b1 as K,bA as L,W,X as H,aV as z,bc as U,O as G,bL as X}from"./index.48f34480.js";import{_ as Y}from"./toArray.215d9ccb.js";import{a as J}from"./antInputDirective.8e6978aa.js";import{c as q,L as Q}from"./List.587632d1.js";import{A as Z}from"./CheckOutlined.bb45c035.js";import{S as $}from"./SearchOutlined.4005fe30.js";import{a as ee}from"./FormItemContext.1c14973d.js";function ne(e,n){var o,t=e.key;return"value"in e&&(o=e.value),null!=t?t:void 0!==o?o:"rc-index-key-".concat(n)}function oe(e,n){var o=e||{};return{label:o.label||(n?"children":"label"),value:o.value||"value",options:o.options||"options"}}function te(n){var o=e({},n);return"props"in o||Object.defineProperty(o,"props",{get:function(){return o}}),o}var ae=globalThis&&globalThis.__rest||function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]])}return o};const le=o({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:t.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:t.oneOfType([Number,Boolean]).def(!0),popupElement:t.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function},setup:function(n,o){var t=o.slots,p=o.attrs,d=o.expose,v=a((function(){return function(e){var n=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1}}}}(n.dropdownMatchSelectWidth)})),f=l();return d({getPopupElement:function(){return f.value}}),function(){var o=e(e({},n),p),a=o.empty,l=void 0!==a&&a,d=ae(o,["empty"]),m=d.visible,g=d.dropdownAlign,h=d.prefixCls,y=d.popupElement,b=d.dropdownClassName,S=d.dropdownStyle,w=d.direction,C=void 0===w?"ltr":w,I=d.placement,x=d.dropdownMatchSelectWidth,O=d.containerWidth,F=d.dropdownRender,T=d.animation,P=d.transitionName,E=d.getPopupContainer,V=d.getTriggerDOMNode,N=d.onPopupVisibleChange,A=d.onPopupMouseEnter,D="".concat(h,"-dropdown"),R=y;F&&(R=F({menuNode:y,props:n}));var M=T?"".concat(D,"-").concat(T):P,B=e({minWidth:"".concat(O,"px")},S);return"number"==typeof x?B.width="".concat(x,"px"):x&&(B.width="".concat(O,"px")),u(s,i(i({},n),{},{showAction:N?["click"]:[],hideAction:N?["click"]:[],popupPlacement:I||("rtl"===C?"bottomRight":"bottomLeft"),builtinPlacements:v.value,prefixCls:D,popupTransitionName:M,popupAlign:g,popupVisible:m,getPopupContainer:E,popupClassName:r(b,c({},"".concat(D,"-empty"),l)),popupStyle:B,getTriggerDOMNode:V,onPopupVisibleChange:N}),{default:t.default,popup:function(){return u("div",{ref:f,onMouseenter:A},[R])}})}}});var ue=function(e,n){var o,t,a=n.slots,l=e.class,i=e.customizeIcon,r=e.customizeIconProps,c=e.onMousedown,s=e.onClick;return t="function"==typeof i?i(r):i,u("span",{class:l,onMousedown:function(e){e.preventDefault(),c&&c(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},[void 0!==t?t:u("span",{class:l.split(/\s+/).map((function(e){return"".concat(e,"-icon")}))},[null===(o=a.default)||void 0===o?void 0:o.call(a)])])};ue.inheritAttrs=!1,ue.displayName="TransBtn",ue.props={class:String,customizeIcon:t.any,customizeIconProps:t.any,onMousedown:Function,onClick:Function};const ie=ue;const re=o({name:"Input",inheritAttrs:!1,props:{inputRef:t.any,prefixCls:String,id:String,inputElement:t.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:t.oneOfType([t.number,t.string]),attrs:t.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},setup:function(n){var o=null,t=p("VCSelectContainerEvent");return function(){var a,l=n.prefixCls,i=n.id,c=n.inputElement,s=n.disabled,p=n.tabindex,f=n.autofocus,m=n.autocomplete,g=n.editable,h=n.activeDescendantId,y=n.value,b=n.onKeydown,S=n.onMousedown,w=n.onChange,C=n.onPaste,I=n.onCompositionstart,x=n.onCompositionend,O=n.onFocus,F=n.onBlur,T=n.open,P=n.inputRef,E=n.attrs,V=c||d(u("input",null,null),[[J]]),N=V.props||{},A=N.onKeydown,D=N.onInput,R=N.onFocus,M=N.onBlur,B=N.onMousedown,k=N.onCompositionstart,_=N.onCompositionend,j=N.style;return V=v(V,e(e(e(e(e({type:"search"},N),{id:i,ref:P,disabled:s,tabindex:p,autocomplete:m||"off",autofocus:f,class:r("".concat(l,"-selection-search-input"),null===(a=null==V?void 0:V.props)||void 0===a?void 0:a.class),role:"combobox","aria-expanded":T,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":h}),E),{value:g?y:"",readonly:!g,unselectable:g?null:"on",style:e(e({},j),{opacity:g?null:0}),onKeydown:function(e){b(e),A&&A(e)},onMousedown:function(e){S(e),B&&B(e)},onInput:function(e){w(e),D&&D(e)},onCompositionstart:function(e){I(e),k&&k(e)},onCompositionend:function(e){x(e),_&&_(e)},onPaste:C,onFocus:function(){clearTimeout(o),R&&R(arguments.length<=0?void 0:arguments[0]),O&&O(arguments.length<=0?void 0:arguments[0]),null==t||t.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];o=setTimeout((function(){M&&M(n[0]),F&&F(n[0]),null==t||t.blur(n[0])}),100)}}),"textarea"===V.type?{}:{type:"search"}),!0,!0),V}}});var ce=Symbol("TreeSelectLegacyContextPropsKey");function se(e){return f(ce,e)}function pe(){return p(ce,{})}var de={id:String,prefixCls:String,values:t.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:t.any,placeholder:t.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:t.oneOfType([t.number,t.string]),removeIcon:t.any,choiceTransitionName:String,maxTagCount:t.oneOfType([t.number,t.string]),maxTagTextLength:Number,maxTagPlaceholder:t.any.def((function(){return function(e){return"+ ".concat(e.length," ...")}})),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},ve=function(e){e.preventDefault(),e.stopPropagation()};const fe=o({name:"MultipleSelectSelector",inheritAttrs:!1,props:de,setup:function(e){var n=l(),o=l(0),t=l(!1),i=pe(),s=a((function(){return"".concat(e.prefixCls,"-selection")})),p=a((function(){return e.open||"tags"===e.mode?e.searchValue:""})),d=a((function(){return"tags"===e.mode||e.showSearch&&(e.open||t.value)}));function v(n,o,t,a,l){return u("span",{class:r("".concat(s.value,"-item"),c({},"".concat(s.value,"-item-disabled"),t)),title:"string"==typeof n||"number"==typeof n?n.toString():void 0},[u("span",{class:"".concat(s.value,"-item-content")},[o]),a&&u(ie,{class:"".concat(s.value,"-item-remove"),onMousedown:ve,onClick:l,customizeIcon:e.removeIcon},{default:function(){return[y("×")]}})])}function f(n){var o=n.disabled,t=n.label,a=n.value,l=n.option,r=!e.disabled&&!o,c=t;if("number"==typeof e.maxTagTextLength&&("string"==typeof t||"number"==typeof t)){var s=String(c);s.length>e.maxTagTextLength&&(c="".concat(s.slice(0,e.maxTagTextLength),"..."))}var p=function(o){var t;o&&o.stopPropagation(),null===(t=e.onRemove)||void 0===t||t.call(e,n)};return"function"==typeof e.tagRender?function(n,o,t,a,l,r){var c,s=r;return i.keyEntities&&(s=(null===(c=i.keyEntities[n])||void 0===c?void 0:c.node)||{}),u("span",{key:n,onMousedown:function(n){ve(n),e.onToggleOpen(!open)}},[e.tagRender({label:o,value:n,disabled:t,closable:a,onClose:l,option:s})])}(a,c,o,r,p,l):v(t,c,o,r,p)}function w(n){var o=e.maxTagPlaceholder,t=void 0===o?function(e){return"+ ".concat(e.length," ...")}:o,a="function"==typeof t?t(n):t;return v(a,a,!1)}return m((function(){g(p,(function(){o.value=n.value.scrollWidth}),{flush:"post",immediate:!0})})),function(){var a=e.id,l=e.prefixCls,i=e.values,r=e.open,c=e.inputRef,v=e.placeholder,m=e.disabled,g=e.autofocus,C=e.autocomplete,I=e.activeDescendantId,x=e.tabindex,O=e.onInputChange,F=e.onInputPaste,T=e.onInputKeyDown,P=e.onInputMouseDown,E=e.onInputCompositionStart,V=e.onInputCompositionEnd,N=u("div",{class:"".concat(s.value,"-search"),style:{width:o.value+"px"},key:"input"},[u(re,{inputRef:c,open:r,prefixCls:l,id:a,inputElement:null,disabled:m,autofocus:g,autocomplete:C,editable:d.value,activeDescendantId:I,value:p.value,onKeydown:T,onMousedown:P,onChange:O,onPaste:F,onCompositionstart:E,onCompositionend:V,tabindex:x,attrs:h(e,!0),onFocus:function(){return t.value=!0},onBlur:function(){return t.value=!1}},null),u("span",{ref:n,class:"".concat(s.value,"-search-mirror"),"aria-hidden":!0},[p.value,y(" ")])]),A=u(b,{prefixCls:"".concat(s.value,"-overflow"),data:i,renderItem:f,renderRest:w,suffix:N,itemKey:"key",maxCount:e.maxTagCount,key:"overflow"},null);return u(S,null,[A,!i.length&&!p.value&&u("span",{class:"".concat(s.value,"-placeholder")},[v])])}}});var me={inputElement:t.any,id:String,prefixCls:String,values:t.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:t.any,placeholder:t.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:t.oneOfType([t.number,t.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},ge=o({name:"SingleSelector",setup:function(e){var n=l(!1),o=a((function(){return"combobox"===e.mode})),t=a((function(){return o.value||e.showSearch})),i=a((function(){var t=e.searchValue||"";return o.value&&e.activeValue&&!n.value&&(t=e.activeValue),t})),r=pe();g([o,function(){return e.activeValue}],(function(){o.value&&(n.value=!1)}),{immediate:!0});var c=a((function(){return!("combobox"!==e.mode&&!e.open&&!e.showSearch)&&!!i.value})),s=a((function(){var n=e.values[0];return!n||"string"!=typeof n.label&&"number"!=typeof n.label?void 0:n.label.toString()})),p=function(){if(e.values[0])return null;var n=c.value?{visibility:"hidden"}:void 0;return u("span",{class:"".concat(e.prefixCls,"-selection-placeholder"),style:n},[e.placeholder])};return function(){var a,l,d,v,f=e.inputElement,m=e.prefixCls,g=e.id,y=e.values,b=e.inputRef,w=e.disabled,C=e.autofocus,I=e.autocomplete,x=e.activeDescendantId,O=e.open,F=e.tabindex,T=e.optionLabelRender,P=e.onInputKeyDown,E=e.onInputMouseDown,V=e.onInputChange,N=e.onInputPaste,A=e.onInputCompositionStart,D=e.onInputCompositionEnd,R=y[0],M=null;if(R&&r.customSlots){var B=null!==(a=R.key)&&void 0!==a?a:R.value,k=(null===(l=r.keyEntities[B])||void 0===l?void 0:l.node)||{};"function"==typeof(M=r.customSlots[null===(d=k.slots)||void 0===d?void 0:d.title]||r.customSlots.title||R.label)&&(M=M(k))}else M=T&&R?T(R.option):null==R?void 0:R.label;return u(S,null,[u("span",{class:"".concat(m,"-selection-search")},[u(re,{inputRef:b,prefixCls:m,id:g,open:O,inputElement:f,disabled:w,autofocus:C,autocomplete:I,editable:t.value,activeDescendantId:x,value:i.value,onKeydown:P,onMousedown:E,onChange:function(e){n.value=!0,V(e)},onPaste:N,onCompositionstart:A,onCompositionend:D,tabindex:F,attrs:h(e,!0)},null)]),!o.value&&R&&!c.value&&u("span",{class:"".concat(m,"-selection-item"),title:s.value},[u(S,{key:null!==(v=R.key)&&void 0!==v?v:R.value},[M])]),p()])}}});ge.props=me,ge.inheritAttrs=!1;const he=ge;function ye(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,o=null;function t(t){(t||null===o)&&(o=t),clearTimeout(e),e=setTimeout((function(){o=null}),n)}return C((function(){clearTimeout(e)})),[function(){return o},t]}const be=o({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:t.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:t.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:t.oneOfType([t.number,t.string]),disabled:{type:Boolean,default:void 0},placeholder:t.any,removeIcon:t.any,maxTagCount:t.oneOfType([t.number,t.string]),maxTagTextLength:Number,maxTagPlaceholder:t.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup:function(e,n){var o=n.expose,t=q(),a=!1,l=ye(0),r=I(l,2),c=r[0],s=r[1],p=function(n){var o,t=n.which;t!==w.UP&&t!==w.DOWN||n.preventDefault(),e.onInputKeyDown&&e.onInputKeyDown(n),t!==w.ENTER||"tags"!==e.mode||a||e.open||e.onSearchSubmit(n.target.value),o=t,[w.ESC,w.SHIFT,w.BACKSPACE,w.TAB,w.WIN_KEY,w.ALT,w.META,w.WIN_KEY_RIGHT,w.CTRL,w.SEMICOLON,w.EQUALS,w.CAPS_LOCK,w.CONTEXT_MENU,w.F1,w.F2,w.F3,w.F4,w.F5,w.F6,w.F7,w.F8,w.F9,w.F10,w.F11,w.F12].includes(o)||e.onToggleOpen(!0)},d=function(){s(!0)},v=null,f=function(n){!1!==e.onSearch(n,!0,a)&&e.onToggleOpen(!0)},m=function(){a=!0},g=function(n){a=!1,"combobox"!==e.mode&&f(n.target.value)},h=function(n){var o=n.target.value;if(e.tokenWithEnter&&v&&/[\r\n]/.test(v)){var t=v.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");o=o.replace(t,v)}v=null,f(o)},y=function(e){var n=e.clipboardData.getData("text");v=n},b=function(e){e.target!==t.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){t.current.focus()})):t.current.focus())},S=function(n){var o=c();n.target===t.current||o||n.preventDefault(),("combobox"===e.mode||e.showSearch&&o)&&e.open||(e.open&&e.onSearch("",!0,!1),e.onToggleOpen())};return o({focus:function(){t.current.focus()},blur:function(){t.current.blur()}}),function(){var n=e.prefixCls,o=e.domRef,a=e.mode,l={inputRef:t,onInputKeyDown:p,onInputMouseDown:d,onInputChange:h,onInputPaste:y,onInputCompositionStart:m,onInputCompositionEnd:g},r=u("multiple"===a||"tags"===a?fe:he,i(i({},e),l),null);return u("div",{ref:o,class:"".concat(n,"-selector"),onClick:b,onMousedown:S},[r])}}});var Se=Symbol("BaseSelectContextKey");function we(){return p(Se,{})}function Ce(e){if(!x(e))return O(e);var n=new Proxy({},{get:function(n,o,t){return Reflect.get(e.value,o,t)},set:function(n,o,t){return e.value[o]=t,!0},deleteProperty:function(n,o){return Reflect.deleteProperty(e.value,o)},has:function(n,o){return Reflect.has(e.value,o)},ownKeys:function(){return Object.keys(e.value)},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}});return O(n)}var Ie=globalThis&&globalThis.__rest||function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]])}return o},xe=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],Oe=function(){return{showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:t.any,placeholder:t.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:t.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:t.any,clearIcon:t.any,removeIcon:t.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}};function Fe(e){return"tags"===e||"multiple"===e}const Te=o({name:"BaseSelect",inheritAttrs:!1,props:F(e(e({},{prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:t.any,emptyOptions:Boolean}),Oe()),{showAction:[],notFoundContent:"Not Found"}),setup:function(o,t){var s=t.attrs,p=t.expose,d=t.slots,h=a((function(){return Fe(o.mode)})),b=a((function(){return void 0!==o.showSearch?o.showSearch:h.value||"combobox"===o.mode})),S=l(!1);m((function(){S.value=T()}));var x=pe(),O=l(null),F=q(),D=l(null),R=l(null),M=l(null),B=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,o=l(!1),t=function(){clearTimeout(e)};m((function(){t()}));var a=function(a,l){t(),e=setTimeout((function(){o.value=a,l&&l()}),n)};return[o,a,t]}(),k=I(B,3),_=k[0],j=k[1],K=k[2];p({focus:function(){var e;null===(e=R.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=R.value)||void 0===e||e.blur()},scrollTo:function(e){var n;return null===(n=M.value)||void 0===n?void 0:n.scrollTo(e)}});var L=a((function(){var e;if("combobox"!==o.mode)return o.searchValue;var n=null===(e=o.displayValues[0])||void 0===e?void 0:e.value;return"string"==typeof n||"number"==typeof n?String(n):""})),W=void 0!==o.open?o.open:o.defaultOpen,H=l(W),z=l(W),U=function(e){H.value=void 0!==o.open?o.open:e,z.value=H.value};g((function(){return o.open}),(function(){U(o.open)}));var G=a((function(){return!o.notFoundContent&&o.emptyOptions}));P((function(){z.value=H.value,(o.disabled||G.value&&z.value&&"combobox"===o.mode)&&(z.value=!1)}));var X=a((function(){return!G.value&&z.value})),J=function(e){var n=void 0!==e?e:!z.value;H.value===n||o.disabled||(U(n),o.onDropdownVisibleChange&&o.onDropdownVisibleChange(n))},Q=a((function(){return(o.tokenSeparators||[]).some((function(e){return["\n","\r\n"].includes(e)}))})),Z=function(e,t,a){var l,u,i=!0,r=e;null===(l=o.onActiveValueChange)||void 0===l||l.call(o,null);var c=a?null:function(e,o){if(!o||!o.length)return null;var t=!1,a=function e(o,a){var l=Y(a),u=l[0],i=l.slice(1);if(!u)return[o];var r=o.split(u);return t=t||r.length>1,r.reduce((function(o,t){return[].concat(n(o),n(e(t,i)))}),[]).filter((function(e){return e}))}(e,o);return t?a:null}(e,o.tokenSeparators);return"combobox"!==o.mode&&c&&(r="",null===(u=o.onSearchSplit)||void 0===u||u.call(o,c),J(!1),i=!1),o.onSearch&&L.value!==r&&o.onSearch(r,{source:t?"typing":"effect"}),i},$=function(e){var n;e&&e.trim()&&(null===(n=o.onSearch)||void 0===n||n.call(o,e,{source:"submit"}))};g(z,(function(){z.value||h.value||"combobox"===o.mode||Z("",!1,!1)}),{immediate:!0,flush:"post"}),g((function(){return o.disabled}),(function(){H.value&&o.disabled&&U(!1)}),{immediate:!0});var ee=ye(),ne=I(ee,2),oe=ne[0],te=ne[1],ae=function(e){var t,a,l,u=oe(),i=e.which;if(i===w.ENTER&&("combobox"!==o.mode&&e.preventDefault(),z.value||J(!0)),te(!!L.value),i===w.BACKSPACE&&!u&&h.value&&!L.value&&o.displayValues.length){for(var r=n(o.displayValues),c=null,s=r.length-1;s>=0;s-=1){var p=r[s];if(!p.disabled){r.splice(s,1),c=p;break}}c&&o.onDisplayValuesChange(r,{type:"remove",values:[c]})}for(var d=arguments.length,v=new Array(d>1?d-1:0),f=1;f<d;f++)v[f-1]=arguments[f];z.value&&M.value&&(l=M.value).onKeydown.apply(l,[e].concat(v));null===(a=o.onKeydown)||void 0===a||(t=a).call.apply(t,[o,e].concat(v))},ue=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];var l;z.value&&M.value&&(l=M.value).onKeyup.apply(l,[e].concat(t));o.onKeyup&&o.onKeyup.apply(o,[e].concat(t))},re=function(e){var n=o.displayValues.filter((function(n){return n!==e}));o.onDisplayValuesChange(n,{type:"remove",values:[e]})},ce=l(!1);f("VCSelectContainerEvent",{focus:function(){j(!0),o.disabled||(o.onFocus&&!ce.value&&o.onFocus.apply(o,arguments),o.showAction&&o.showAction.includes("focus")&&J(!0)),ce.value=!0},blur:function(){if(j(!1,(function(){ce.value=!1,J(!1)})),!o.disabled){var e=L.value;e&&("tags"===o.mode?o.onSearch(e,{source:"submit"}):"multiple"===o.mode&&o.onSearch("",{source:"blur"})),o.onBlur&&o.onBlur.apply(o,arguments)}}});var se=[];m((function(){se.forEach((function(e){return clearTimeout(e)})),se.splice(0,se.length)})),C((function(){se.forEach((function(e){return clearTimeout(e)})),se.splice(0,se.length)}));var de=function(e){var n,t,a,l=e.target,u=null===(t=D.value)||void 0===t?void 0:t.getPopupElement();if(u&&u.contains(l)){var i=setTimeout((function(){var e,n=se.indexOf(i);-1!==n&&se.splice(n,1),K(),S.value||u.contains(document.activeElement)||null===(e=R.value)||void 0===e||e.focus()}));se.push(i)}for(var r=arguments.length,c=new Array(r>1?r-1:0),s=1;s<r;s++)c[s-1]=arguments[s];null===(a=o.onMousedown)||void 0===a||(n=a).call.apply(n,[o,e].concat(c))},ve=l(null),fe=A(),me=function(){fe.update()};return m((function(){g(X,(function(){var e;if(X.value){var n=Math.ceil(null===(e=O.value)||void 0===e?void 0:e.offsetWidth);ve.value===n||Number.isNaN(n)||(ve.value=n)}}),{immediate:!0,flush:"post"})})),function(e,n,o){function t(t){var a,l,u,i=t.target;i.shadowRoot&&t.composed&&(i=t.composedPath()[0]||i);var r=[null===(a=e[0])||void 0===a?void 0:a.value,null===(u=null===(l=e[1])||void 0===l?void 0:l.value)||void 0===u?void 0:u.getPopupElement()];n.value&&r.every((function(e){return e&&!e.contains(i)&&e!==i}))&&o(!1)}m((function(){window.addEventListener("mousedown",t)})),C((function(){window.removeEventListener("mousedown",t)}))}([O,D],X,J),function(e){f(Se,e)}(Ce(e(e({},E(o)),{open:z,triggerOpen:X,showSearch:b,multiple:h,toggleOpen:J}))),function(){var n,t=e(e({},o),s),a=t.prefixCls,l=t.id;t.open,t.defaultOpen;var p=t.mode;t.showSearch,t.searchValue,t.onSearch;var f=t.allowClear,m=t.clearIcon,g=t.showArrow,S=t.inputIcon,w=t.disabled,C=t.loading,I=t.getInputElement,T=t.getPopupContainer,P=t.placement,E=t.animation,A=t.transitionName,B=t.dropdownStyle,k=t.dropdownClassName,j=t.dropdownMatchSelectWidth,K=t.dropdownRender,W=t.dropdownAlign;t.showAction;var H=t.direction;t.tokenSeparators;var U=t.tagRender,G=t.optionLabelRender;t.onPopupScroll,t.onDropdownVisibleChange,t.onFocus,t.onBlur,t.onKeyup,t.onKeydown,t.onMousedown;var Y,q=t.onClear,ee=t.omitDomProps,ne=t.getRawInputElement,oe=t.displayValues,te=t.onDisplayValuesChange,ce=t.emptyOptions,se=t.activeDescendantId,pe=t.activeValue,fe=t.OptionList,ge=Ie(t,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),he="combobox"===p&&I&&I()||null,ye="function"==typeof ne&&ne(),Se=e({},ge);ye&&(Y=function(e){J(e)}),xe.forEach((function(e){delete Se[e]})),null==ee||ee.forEach((function(e){delete Se[e]}));var we,Ce,Oe=void 0!==g?g:C||!h.value&&"combobox"!==p;Oe&&(we=u(ie,{class:r("".concat(a,"-arrow"),c({},"".concat(a,"-arrow-loading"),C)),customizeIcon:S,customizeIconProps:{loading:C,searchValue:L.value,open:z.value,focused:_.value,showSearch:b.value}},null));!w&&f&&(oe.length||L.value)&&(Ce=u(ie,{class:"".concat(a,"-clear"),onMousedown:function(){null==q||q(),te([],{type:"clear",values:oe}),Z("",!1,!1)},customizeIcon:m},{default:function(){return[y("×")]}}));var Fe=u(fe,{ref:M},e(e({},x.customSlots),{option:d.option})),Te=r(a,s.class,(c(n={},"".concat(a,"-focused"),_.value),c(n,"".concat(a,"-multiple"),h.value),c(n,"".concat(a,"-single"),!h.value),c(n,"".concat(a,"-allow-clear"),f),c(n,"".concat(a,"-show-arrow"),Oe),c(n,"".concat(a,"-disabled"),w),c(n,"".concat(a,"-loading"),C),c(n,"".concat(a,"-open"),z.value),c(n,"".concat(a,"-customize-input"),he),c(n,"".concat(a,"-show-search"),b.value),n)),Pe=u(le,{ref:D,disabled:w,prefixCls:a,visible:X.value,popupElement:Fe,containerWidth:ve.value,animation:E,transitionName:A,dropdownStyle:B,dropdownClassName:k,direction:H,dropdownMatchSelectWidth:j,dropdownRender:K,dropdownAlign:W,placement:P,getPopupContainer:T,empty:ce,getTriggerDOMNode:function(){return F.current},onPopupVisibleChange:Y,onPopupMouseEnter:me},{default:function(){return ye?V(ye)&&v(ye,{ref:F},!1,!0):u(be,i(i({},o),{},{domRef:F,prefixCls:a,inputElement:he,ref:R,id:l,showSearch:b.value,mode:p,activeDescendantId:se,tagRender:U,optionLabelRender:G,values:oe,open:z.value,onToggleOpen:J,activeValue:pe,searchValue:L.value,onSearch:Z,onSearchSubmit:$,onRemove:re,tokenWithEnter:Q.value}),null)}});return ye?Pe:u("div",i(i({},Se),{},{class:Te,ref:O,onMousedown:de,onKeydown:ae,onKeyup:ue}),[_.value&&!z.value&&u("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},["".concat(oe.map((function(e){var n=e.label,o=e.value;return["number","string"].includes(N(n))?n:o})).join(", "))]),Pe,we,Ce])}}});function Pe(e,n,o){var t=l(e());return g(n,(function(n,a){o?o(n,a)&&(t.value=e()):t.value=e()})),t}var Ee=Symbol("SelectContextKey");var Ve=globalThis&&globalThis.__rest||function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]])}return o};function Ne(e){return"string"==typeof e||"number"==typeof e}const Ae=o({name:"OptionList",inheritAttrs:!1,slots:["option"],setup:function(e,n){var o=n.expose,t=n.slots,l=we(),s=p(Ee,{}),d=a((function(){return"".concat(l.prefixCls,"-item")})),v=Pe((function(){return s.flattenOptions}),[function(){return l.open},function(){return s.flattenOptions}],(function(e){return e[0]})),f=q(),m=function(e){e.preventDefault()},y=function(e){f.current&&f.current.scrollTo("number"==typeof e?{index:e}:e)},b=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=v.value.length,t=0;t<o;t+=1){var a=(e+t*n+o)%o,l=v.value[a],u=l.group,i=l.data;if(!u&&!i.disabled)return a}return-1},C=O({activeIndex:b(0)}),I=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C.activeIndex=e;var o={source:n?"keyboard":"mouse"},t=v.value[e];t?s.onActiveValue(t.value,e,o):s.onActiveValue(null,-1,o)};g([function(){return v.value.length},function(){return l.searchValue}],(function(){I(!1!==s.defaultActiveFirstOption?b(0):-1)}),{immediate:!0});var x=function(e){return s.rawValues.has(e)&&"combobox"!==l.mode};g([function(){return l.open},function(){return l.searchValue}],(function(){if(!l.multiple&&l.open&&1===s.rawValues.size){var e=Array.from(s.rawValues)[0],n=D(v.value).findIndex((function(n){return n.data.value===e}));-1!==n&&(I(n),R((function(){y(n)})))}l.open&&R((function(){var e;null===(e=f.current)||void 0===e||e.scrollTo(void 0)}))}),{immediate:!0,flush:"post"});var F=function(e){void 0!==e&&s.onSelect(e,{selected:!s.rawValues.has(e)}),l.multiple||l.toggleOpen(!1)},T=function(e){return"function"==typeof e.label?e.label():e.label};function P(e){var n=v.value[e];if(!n)return null;var o=n.data||{},t=o.value,a=n.group,r=h(o,!0),c=T(n);return n?u("div",i(i({"aria-label":"string"!=typeof c||a?null:c},r),{},{key:e,role:a?"presentation":"option",id:"".concat(l.id,"_list_").concat(e),"aria-selected":x(t)}),[t]):null}return o({onKeydown:function(e){var n=e.which,o=e.ctrlKey;switch(n){case w.N:case w.P:case w.UP:case w.DOWN:var t=0;if(n===w.UP?t=-1:n===w.DOWN?t=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&o&&(n===w.N?t=1:n===w.P&&(t=-1)),0!==t){var a=b(C.activeIndex+t,t);y(a),I(a,!0)}break;case w.ENTER:var u=v.value[C.activeIndex];u&&!u.data.disabled?F(u.value):F(void 0),l.open&&e.preventDefault();break;case w.ESC:l.toggleOpen(!1),l.open&&e.stopPropagation()}},onKeyup:function(){},scrollTo:function(e){y(e)}}),function(){var e=l.id,n=l.notFoundContent,o=l.onPopupScroll,a=s.menuItemSelectedIcon,p=s.fieldNames,g=s.virtual,h=s.listHeight,y=s.listItemHeight,b=t.option,w=C.activeIndex,O=Object.keys(p).map((function(e){return p[e]}));return 0===v.value.length?u("div",{role:"listbox",id:"".concat(e,"_list"),class:"".concat(d.value,"-empty"),onMousedown:m},[n]):u(S,null,[u("div",{role:"listbox",id:"".concat(e,"_list"),style:{height:0,width:0,overflow:"hidden"}},[P(w-1),P(w),P(w+1)]),u(Q,{itemKey:"key",ref:f,data:v.value,height:h,itemHeight:y,fullHeight:!1,onMousedown:m,onScroll:o,virtual:g},{default:function(e,n){var o,t,l=e.group,s=e.groupOption,p=e.data,v=e.value,f=p.key,m="function"==typeof e.label?e.label():e.label;if(l){var g=null!==(t=p.title)&&void 0!==t?t:Ne(m)&&m;return u("div",{class:r(d.value,"".concat(d.value,"-group")),title:g},[b?b(p):void 0!==m?m:f])}var h=p.disabled,y=p.title;p.children;var S=p.style,C=p.class,P=p.className,E=Ve(p,["disabled","title","children","style","class","className"]),N=M(E,O),A=x(v),D="".concat(d.value,"-option"),R=r(d.value,D,C,P,(c(o={},"".concat(D,"-grouped"),s),c(o,"".concat(D,"-active"),w===n&&!h),c(o,"".concat(D,"-disabled"),h),c(o,"".concat(D,"-selected"),A),o)),B=T(e),k=!a||"function"==typeof a||A,_="number"==typeof B?B:B||v,j=Ne(_)?_.toString():void 0;return void 0!==y&&(j=y),u("div",i(i({},N),{},{"aria-selected":A,class:R,title:j,onMousemove:function(e){E.onMousemove&&E.onMousemove(e),w===n||h||I(n)},onClick:function(e){h||F(v),E.onClick&&E.onClick(e)},style:S}),[u("div",{class:"".concat(D,"-content")},[b?b(p):_]),V(a)||A,k&&u(ie,{class:"".concat(d.value,"-option-state"),customizeIcon:a,customizeIconProps:{isSelected:A}},{default:function(){return[A?"✓":null]}})])}})])}}});var De=globalThis&&globalThis.__rest||function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]])}return o};function Re(n){var o=n,t=o.key,a=o.children,l=o.props,u=l.value,i=l.disabled,r=De(l,["value","disabled"]),c=null==a?void 0:a.default;return e({key:t,value:void 0!==u?u:t,children:c,disabled:i||""===i},r)}function Me(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=B(n).map((function(n,t){var a;if(!V(n)||!n.type)return null;var l=n.type.isSelectOptGroup,u=n.key,i=n.children,r=n.props;if(o||!l)return Re(n);var c=i&&i.default?i.default():void 0,s=(null==r?void 0:r.label)||(null===(a=i.label)||void 0===a?void 0:a.call(i))||u;return e(e({key:"__RC_SELECT_GRP__".concat(null===u?t:String(u),"__")},r),{label:s,options:Me(c||[])})})).filter((function(e){return e}));return t}function Be(e,n,o){var t=k(),a=k(),l=k(),u=k([]);return g([e,n],(function(){e.value?u.value=D(e.value).slice():u.value=Me(n.value)}),{immediate:!0,deep:!0}),P((function(){var e=u.value,n=new Map,i=new Map,r=o.value;!function e(o){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;a<o.length;a+=1){var l=o[a];!l[r.options]||t?(n.set(l[r.value],l),i.set(l[r.label],l)):e(l[r.options],!0)}}(e),t.value=e,a.value=n,l.value=i})),{options:t,valueOptions:a,labelOptions:l}}var ke=0,_e=_();function je(){var e;return _e?(e=ke,ke+=1):e="TEST_OR_SSR",e}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(""),n="rc_select_".concat(je());return e.value||n}function Le(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function We(e,n){return Le(e).join("").toUpperCase().includes(n)}var He=["inputValue"];function ze(){return e(e({},Oe()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:t.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:t.any,defaultValue:t.any,onChange:Function,children:Array})}const Ue=o({name:"Select",inheritAttrs:!1,props:F(ze(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup:function(o,t){var r=t.expose,s=t.attrs,p=t.slots,d=Ke(j(o,"id")),v=a((function(){return Fe(o.mode)})),m=a((function(){return!(o.options||!o.children)})),g=a((function(){return(void 0!==o.filterOption||"combobox"!==o.mode)&&o.filterOption})),h=a((function(){return oe(o.fieldNames,m.value)})),y=K("",{value:a((function(){return void 0!==o.searchValue?o.searchValue:o.inputValue})),postState:function(e){return e||""}}),b=I(y,2),S=b[0],w=b[1],C=Be(j(o,"options"),j(o,"children"),h),x=C.valueOptions,O=C.labelOptions,F=C.options,T=function(e){return Le(e).map((function(e){var n,t,a,l,u,i,r;(r=e)&&"object"===N(r)?(u=e.key,l=e.label,a=null!==(n=e.value)&&void 0!==n?n:u):a=e;var c=x.value.get(a);return c&&(void 0===l&&(l=null==c?void 0:c[o.optionLabelProp||h.value.label]),void 0===u&&(u=null!==(t=null==c?void 0:c.key)&&void 0!==t?t:a),i=null==c?void 0:c.disabled),{label:l,value:a,key:u,disabled:i,option:c}}))},E=K(o.defaultValue,{value:j(o,"value")}),V=I(E,2),A=V[0],D=V[1],R=function(n,o){var t=k({values:new Map,options:new Map});return[a((function(){var a=t.value,l=a.values,u=a.options,i=n.value.map((function(n){var o;return void 0===n.label?e(e({},n),{label:null===(o=l.get(n.value))||void 0===o?void 0:o.label}):n})),r=new Map,c=new Map;return i.forEach((function(e){r.set(e.value,e),c.set(e.value,o.value.get(e.value)||u.get(e.value))})),t.value.values=r,t.value.options=c,i})),function(e){return o.value.get(e)||t.value.options.get(e)}]}(a((function(){var e,n=T(A.value);return"combobox"!==o.mode||(null===(e=n[0])||void 0===e?void 0:e.value)?n:[]})),x),B=I(R,2),_=B[0],W=B[1],H=a((function(){if(!o.mode&&1===_.value.length){var n=_.value[0];if(null===n.value&&(null===n.label||void 0===n.label))return[]}return _.value.map((function(n){var o;return e(e({},n),{label:null!==(o="function"==typeof n.label?n.label():n.label)&&void 0!==o?o:n.value})}))})),z=a((function(){return new Set(_.value.map((function(e){return e.value})))}));P((function(){var e;if("combobox"===o.mode){var n=null===(e=_.value[0])||void 0===e?void 0:e.value;null!=n&&w(String(n))}}),{flush:"post"});var U=function(e,n){var o,t=null!=n?n:e;return c(o={},h.value.value,e),c(o,h.value.label,t),o},G=k();P((function(){if("tags"===o.mode){var e=F.value.slice();n(_.value).sort((function(e,n){return e.value<n.value?-1:1})).forEach((function(n){var o=n.value;(function(e){return x.value.has(e)})(o)||e.push(U(o,n.label))})),G.value=e}else G.value=F.value}));var X,Y,J,q,Q,Z=(X=G,Y=h,J=S,q=g,Q=j(o,"optionFilterProp"),a((function(){var n=J.value,o=null==Q?void 0:Q.value,t=null==q?void 0:q.value;if(!n||!1===t)return X.value;var a=Y.value,l=a.options,u=a.label,i=a.value,r=[],s="function"==typeof t,p=n.toUpperCase(),d=s?t:function(e,n){return o?We(n[o],p):n[l]?We(n["children"!==u?u:"label"],p):We(n[i],p)},v=s?function(e){return te(e)}:function(e){return e};return X.value.forEach((function(o){if(o[l])if(d(n,v(o)))r.push(o);else{var t=o[l].filter((function(e){return d(n,v(e))}));t.length&&r.push(e(e({},o),c({},l,t)))}else d(n,v(o))&&r.push(o)})),r}))),$=a((function(){return"tags"!==o.mode||!S.value||Z.value.some((function(e){return e[o.optionFilterProp||"value"]===S.value}))?Z.value:[U(S.value)].concat(n(Z.value))})),ee=a((function(){return o.filterSort?n($.value).sort((function(e,n){return o.filterSort(e,n)})):$.value})),ae=a((function(){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.fieldNames,t=n.childrenAsData,a=[],l=oe(o,!1),u=l.label,i=l.value,r=l.options;function c(e,n){e.forEach((function(e){var o=e[u];if(n||!(r in e)){var l=e[i];a.push({key:ne(e,a.length),groupOption:n,data:e,label:o,value:l})}else{var s=o;void 0===s&&t&&(s=e.label),a.push({key:ne(e,a.length),group:!0,data:e,label:s}),c(e[r],!0)}}))}return c(e,!1),a}(ee.value,{fieldNames:h.value,childrenAsData:m.value})})),le=function(n){var t=T(n);if(D(t),o.onChange&&(t.length!==_.value.length||t.some((function(e,n){var o;return(null===(o=_.value[n])||void 0===o?void 0:o.value)!==(null==e?void 0:e.value)})))){var a=o.labelInValue?t.map((function(n){return e(e({},n),{originLabel:n.label,label:"function"==typeof n.label?n.label():n.label})})):t.map((function(e){return e.value})),l=t.map((function(e){return te(W(e.value))}));o.onChange(v.value?a:a[0],v.value?l:l[0])}},ue=L(null),ie=I(ue,2),re=ie[0],ce=ie[1],se=L(0),pe=I(se,2),de=pe[0],ve=pe[1],fe=a((function(){return void 0!==o.defaultActiveFirstOption?o.defaultActiveFirstOption:"combobox"!==o.mode})),me=function(e,n){var t=function(){var n,t=W(e),a=null==t?void 0:t[h.value.label];return[o.labelInValue?{label:"function"==typeof a?a():a,originLabel:a,value:e,key:null!==(n=null==t?void 0:t.key)&&void 0!==n?n:e}:e,te(t)]};if(n&&o.onSelect){var a=t(),l=I(a,2),u=l[0],i=l[1];o.onSelect(u,i)}else if(!n&&o.onDeselect){var r=t(),c=I(r,2),s=c[0],p=c[1];o.onDeselect(s,p)}},ge=function(e,n){le(e),"remove"!==n.type&&"clear"!==n.type||n.values.forEach((function(e){me(e.value,!1)}))},he=function(e,t){var a;if(w(e),ce(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===o.mode&&le(e),null===(a=o.onSearch)||void 0===a||a.call(o,e));else{var l=(e||"").trim();if(l){var u=Array.from(new Set([].concat(n(z.value),[l])));le(u),me(l,!0),w("")}}},ye=function(e){var t=e;"tags"!==o.mode&&(t=e.map((function(e){var n=O.value.get(e);return null==n?void 0:n.value})).filter((function(e){return void 0!==e})));var a=Array.from(new Set([].concat(n(z.value),n(t))));le(a),a.forEach((function(e){me(e,!0)}))},be=a((function(){return!1!==o.virtual&&!1!==o.dropdownMatchSelectWidth}));!function(e){f(Ee,e)}(Ce(e(e({},C),{flattenOptions:ae,onActiveValue:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.source,l=void 0===a?"keyboard":a;ve(n),o.backfill&&"combobox"===o.mode&&null!==e&&"keyboard"===l&&ce(String(e))},defaultActiveFirstOption:fe,onSelect:function(e,t){var a,l=!v.value||t.selected;a=l?v.value?[].concat(n(_.value),[e]):[e]:_.value.filter((function(n){return n.value!==e})),le(a),me(e,l),"combobox"===o.mode?ce(""):v.value&&!o.autoClearSearchValue||(w(""),ce(""))},menuItemSelectedIcon:j(o,"menuItemSelectedIcon"),rawValues:z,fieldNames:h,virtual:be,listHeight:j(o,"listHeight"),listItemHeight:j(o,"listItemHeight"),childrenAsData:m})));var Se=l();r({focus:function(){var e;null===(e=Se.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=Se.value)||void 0===e||e.blur()},scrollTo:function(e){var n;null===(n=Se.value)||void 0===n||n.scrollTo(e)}});var we=a((function(){return M(o,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"])}));return function(){return u(Te,i(i(i({},we.value),s),{},{id:d,prefixCls:o.prefixCls,ref:Se,omitDomProps:He,mode:o.mode,displayValues:H.value,onDisplayValuesChange:ge,searchValue:S.value,onSearch:he,onSearchSplit:ye,dropdownMatchSelectWidth:o.dropdownMatchSelectWidth,OptionList:Ae,emptyOptions:!ae.value.length,activeValue:re.value,activeDescendantId:"".concat(d,"_list_").concat(de.value)}),p)}}});var Ge=function(){return null};Ge.isSelectOption=!0,Ge.displayName="ASelectOption";const Xe=Ge;var Ye=function(){return null};Ye.isSelectOptGroup=!0,Ye.displayName="ASelectOptGroup";function Je(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.loading,t=e.multiple,a=e.prefixCls,l=e.suffixIcon||n.suffixIcon&&n.suffixIcon(),i=e.clearIcon||n.clearIcon&&n.clearIcon(),r=e.menuItemSelectedIcon||n.menuItemSelectedIcon&&n.menuItemSelectedIcon(),c=e.removeIcon||n.removeIcon&&n.removeIcon(),s=i;i||(s=u(W,null,null));var p=null;if(void 0!==l)p=l;else if(o)p=u(H,{spin:!0},null);else{var d="".concat(a,"-suffix");p=function(e){var n=e.open,o=e.showSearch;return u(n&&o?$:U,{class:d},null)}}return{clearIcon:s,suffixIcon:p,itemIcon:void 0!==r?r:t?u(Z,null,null):null,removeIcon:void 0!==c?c:u(z,null,null)}}var qe=function(){return e(e({},M(ze(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:{type:[Array,Object,String,Number]},defaultValue:{type:[Array,Object,String,Number]},notFoundContent:t.any,suffixIcon:t.any,itemIcon:t.any,size:String,mode:String,bordered:{type:Boolean,default:!0},transitionName:String,choiceTransitionName:{type:String,default:""},"onUpdate:value":Function})},Qe=o({name:"ASelect",Option:Xe,OptGroup:Ye,inheritAttrs:!1,props:F(qe(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:"SECRET_COMBOBOX_MODE_DO_NOT_USE",slots:["notFoundContent","suffixIcon","itemIcon","removeIcon","clearIcon","dropdownRender","option","placeholder","tagRender","maxTagPlaceholder","optionLabel"],setup:function(n,o){var t=o.attrs,s=o.emit,p=o.slots,d=o.expose,v=l(),f=ee(),m=a((function(){var e=n.mode;if("combobox"!==e)return"SECRET_COMBOBOX_MODE_DO_NOT_USE"===e?"combobox":e})),g=G("select",n),h=g.prefixCls,y=g.direction,b=g.configProvider,S=g.size,w=g.getPrefixCls,C=a((function(){return w()})),I=a((function(){return X(C.value,"slide-up",n.transitionName)})),x=a((function(){var e;return r((c(e={},"".concat(h.value,"-lg"),"large"===S.value),c(e,"".concat(h.value,"-sm"),"small"===S.value),c(e,"".concat(h.value,"-rtl"),"rtl"===y.value),c(e,"".concat(h.value,"-borderless"),!n.bordered),e))})),O=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];s("update:value",n[0]),s.apply(void 0,["change"].concat(n)),f.onFieldChange()},F=function(e){s("blur",e),f.onFieldBlur()};d({blur:function(){var e;null===(e=v.value)||void 0===e||e.blur()},focus:function(){var e;null===(e=v.value)||void 0===e||e.focus()},scrollTo:function(e){var n;null===(n=v.value)||void 0===n||n.scrollTo(e)}});var T=a((function(){return"multiple"===m.value||"tags"===m.value}));return function(){var o,a,l,s=n.notFoundContent,d=n.listHeight,g=void 0===d?256:d,S=n.listItemHeight,w=void 0===S?24:S,C=n.getPopupContainer,P=n.dropdownClassName,E=n.virtual,V=n.dropdownMatchSelectWidth,N=n.id,A=void 0===N?f.id.value:N,D=n.placeholder,R=void 0===D?null===(o=p.placeholder)||void 0===o?void 0:o.call(p):D,B=b.renderEmpty,k=b.getPopupContainer;l=void 0!==s?s:p.notFoundContent?p.notFoundContent():"combobox"===m.value?null:B("Select");var _=Je(e(e({},n),{multiple:T.value,prefixCls:h.value}),p),j=_.suffixIcon,K=_.itemIcon,L=_.removeIcon,W=_.clearIcon,H=M(n,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered"]),z=r(P,c({},"".concat(h.value,"-dropdown-").concat(y.value),"rtl"===y.value));return u(Ue,i(i(i({ref:v,virtual:E,dropdownMatchSelectWidth:V},H),t),{},{placeholder:R,listHeight:g,listItemHeight:w,mode:m.value,prefixCls:h.value,direction:y.value,inputIcon:j,menuItemSelectedIcon:K,removeIcon:L,clearIcon:W,notFoundContent:l,class:[x.value,t.class],getPopupContainer:C||k,dropdownClassName:z,onChange:O,onBlur:F,id:A,dropdownRender:H.dropdownRender||p.dropdownRender,transitionName:I.value,children:null===(a=p.default)||void 0===a?void 0:a.call(p),tagRender:n.tagRender||p.tagRender,optionLabelRender:p.optionLabel,maxTagPlaceholder:n.maxTagPlaceholder||p.maxTagPlaceholder}),{option:p.option})}}});Qe.install=function(e){return e.component(Qe.name,Qe),e.component(Qe.Option.displayName,Qe.Option),e.component(Qe.OptGroup.displayName,Qe.OptGroup),e},Qe.Option,Qe.OptGroup;const Ze=Qe;export{Te as B,Ze as S,Ke as a,Oe as b,pe as c,Pe as d,se as e,Je as g,qe as s,Ce as t,we as u};
