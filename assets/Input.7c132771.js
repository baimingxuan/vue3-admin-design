import{a4 as e,q as a,ar as n,J as t,z as o,a2 as r,d as l,a3 as u,b as i,as as d,c as s,W as c,O as f,P as v,at as p,a1 as y,N as g,au as x,n as b,s as m,K as w,a5 as h,av as B}from"./index.70334207.js";import{a as C}from"./antInputDirective.8e6978aa.js";import{a as A}from"./FormItemContext.90f1956e.js";var S=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:e.oneOfType([e.string,e.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:e.any,addonAfter:e.any,prefix:e.any,suffix:e.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}};const F=S;var z=function(){return a(a({},n(S(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function j(e,a,n,r,l){var u;return t(e,(o(u={},"".concat(e,"-sm"),"small"===n),o(u,"".concat(e,"-lg"),"large"===n),o(u,"".concat(e,"-disabled"),r),o(u,"".concat(e,"-rtl"),"rtl"===l),o(u,"".concat(e,"-borderless"),!a),u))}var O=function(e){return null!=e&&(!Array.isArray(e)||r(e).length)};function T(e){return O(e.addonBefore)||O(e.addonAfter)}var R=["text","input"];const I=l({name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:e.oneOf(u("text","input")),value:e.any,defaultValue:e.any,allowClear:{type:Boolean,default:void 0},element:e.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:e.any,prefix:e.any,addonBefore:e.any,addonAfter:e.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,a){var n=a.slots,r=a.attrs,l=i(),u=function(a){var n;if(null===(n=l.value)||void 0===n?void 0:n.contains(a.target)){var t=e.triggerFocus;null==t||t()}},f=function(a){var r,l=e.allowClear,u=e.value,i=e.disabled,d=e.readonly,f=e.handleReset,v=e.suffix,p=void 0===v?n.suffix:v;if(!l)return null;var y=!i&&!d&&u,g="".concat(a,"-clear-icon");return s(c,{onClick:f,onMousedown:function(e){return e.preventDefault()},class:t((r={},o(r,"".concat(g,"-hidden"),!y),o(r,"".concat(g,"-has-suffix"),!!p),r),g),role:"button"},null)},v=function(a,i){var c,v,p,y,g=e.focused,x=e.value,b=e.prefix,m=void 0===b?null===(v=n.prefix)||void 0===v?void 0:v.call(n):b,w=e.size,h=e.suffix,B=void 0===h?null===(p=n.suffix)||void 0===p?void 0:p.call(n):h,C=e.disabled,A=e.allowClear,S=e.direction,F=e.readonly,z=e.bordered,R=e.hidden,I=e.addonAfter,N=void 0===I?n.addonAfter:I,P=e.addonBefore,k=void 0===P?n.addonBefore:P,M=function(a){var t,o=e.suffix,r=void 0===o?null===(t=n.suffix)||void 0===t?void 0:t.call(n):o,l=e.allowClear;return r||l?s("span",{class:"".concat(a,"-suffix")},[f(a),r]):null}(a);if(!(O((y={prefix:m,suffix:B,allowClear:A}).prefix)||O(y.suffix)||O(y.allowClear)))return d(i,{value:x});var V=m?s("span",{class:"".concat(a,"-prefix")},[m]):null,K=t("".concat(a,"-affix-wrapper"),(o(c={},"".concat(a,"-affix-wrapper-focused"),g),o(c,"".concat(a,"-affix-wrapper-disabled"),C),o(c,"".concat(a,"-affix-wrapper-sm"),"small"===w),o(c,"".concat(a,"-affix-wrapper-lg"),"large"===w),o(c,"".concat(a,"-affix-wrapper-input-with-clear-btn"),B&&A&&x),o(c,"".concat(a,"-affix-wrapper-rtl"),"rtl"===S),o(c,"".concat(a,"-affix-wrapper-readonly"),F),o(c,"".concat(a,"-affix-wrapper-borderless"),!z),o(c,"".concat(r.class),!T({addonAfter:N,addonBefore:k})&&r.class),c));return s("span",{ref:l,class:K,style:r.style,onMouseup:u,hidden:R},[V,d(i,{style:null,value:x,class:j(a,z,w,C)}),M])};return function(){var a,l=e.prefixCls,u=e.inputType,i=e.element,c=void 0===i?null===(a=n.element)||void 0===a?void 0:a.call(n):i;return u===R[0]?function(a,l){var u,i=e.value,c=e.allowClear,v=e.direction,p=e.bordered,y=e.hidden,g=e.addonAfter,x=void 0===g?n.addonAfter:g,b=e.addonBefore,m=void 0===b?n.addonBefore:b;if(!c)return d(l,{value:i});var w=t("".concat(a,"-affix-wrapper"),"".concat(a,"-affix-wrapper-textarea-with-clear-btn"),(o(u={},"".concat(a,"-affix-wrapper-rtl"),"rtl"===v),o(u,"".concat(a,"-affix-wrapper-borderless"),!p),o(u,"".concat(r.class),!T({addonAfter:x,addonBefore:m})&&r.class),u));return s("span",{class:w,style:r.style,hidden:y},[d(l,{style:null,value:i}),f(a)])}(l,c):function(a,l){var u,i,c,f=e.addonBefore,v=void 0===f?null===(i=n.addonBefore)||void 0===i?void 0:i.call(n):f,p=e.addonAfter,y=void 0===p?null===(c=n.addonAfter)||void 0===c?void 0:c.call(n):p,g=e.size,x=e.direction,b=e.hidden;if(!T({addonBefore:v,addonAfter:y}))return l;var m="".concat(a,"-group"),w="".concat(m,"-addon"),h=v?s("span",{class:w},[v]):null,B=y?s("span",{class:w},[y]):null,C=t("".concat(a,"-wrapper"),m,o({},"".concat(m,"-rtl"),"rtl"===x)),A=t("".concat(a,"-group-wrapper"),(o(u={},"".concat(a,"-group-wrapper-sm"),"small"===g),o(u,"".concat(a,"-group-wrapper-lg"),"large"===g),o(u,"".concat(a,"-group-wrapper-rtl"),"rtl"===x),u),r.class);return s("span",{class:A,style:r.style,hidden:b},[s("span",{class:C},[h,d(l,{style:null}),B])])}(l,v(l,c))}}});function N(e){return null==e?"":String(e)}function P(e,a,n,t){if(n){var o=a;if("click"===a.type){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});var r=e.cloneNode(!0);return o.target=r,o.currentTarget=r,r.value="",void n(o)}if(void 0!==t)return Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=e,o.currentTarget=e,e.value=t,void n(o);n(o)}}function k(e,a){if(e){e.focus(a);var n=(a||{}).cursor;if(n){var t=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}}const M=l({name:"AInput",inheritAttrs:!1,props:F(),setup:function(e,r){var l,u=r.slots,d=r.attrs,c=r.expose,S=r.emit,F=i(),z=i(),O=A(),T=f("input",e),R=T.direction,M=T.prefixCls,V=T.size,K=T.autocomplete,E=i(void 0===e.value?e.defaultValue:e.value),D=i(!1);v((function(){return e.value}),(function(){E.value=e.value})),v((function(){return e.disabled}),(function(){void 0!==e.value&&(E.value=e.value),e.disabled&&(D.value=!1)}));var q=function(){l=setTimeout((function(){var e;"password"===(null===(e=F.value)||void 0===e?void 0:e.getAttribute("type"))&&F.value.hasAttribute("value")&&F.value.removeAttribute("value")}))},J=function(e){k(F.value,e)};c({focus:J,blur:function(){var e;null===(e=F.value)||void 0===e||e.blur()},input:F,stateValue:E,setSelectionRange:function(e,a,n){var t;null===(t=F.value)||void 0===t||t.setSelectionRange(e,a,n)},select:function(){var e;null===(e=F.value)||void 0===e||e.select()}});var L=function(a){var n=e.onFocus;D.value=!0,null==n||n(a),h((function(){q()}))},U=function(a){var n=e.onBlur;D.value=!1,null==n||n(a),O.onFieldBlur(),h((function(){q()}))},W=function(e){S("update:value",e.target.value),S("change",e),S("input",e),O.onFieldChange()},G=B(),H=function(a,n){E.value!==a&&(void 0===e.value?E.value=a:h((function(){F.value.value!==E.value&&G.update()})),h((function(){n&&n()})))},Q=function(e){P(F.value,e,W),H("",(function(){J()}))},X=function(a){var n=a.target,t=n.value,o=n.composing;if(!((a.isComposing||o)&&e.lazy||E.value===t)){var r=a.target.value;P(F.value,a,W),H(r,(function(){q()}))}},Y=function(e){13===e.keyCode&&S("pressEnter",e),S("keydown",e)};p((function(){q()})),y((function(){clearTimeout(l)}));var Z=function(){var r,l=e.addonBefore,i=void 0===l?u.addonBefore:l,c=e.addonAfter,f=void 0===c?u.addonAfter:c,v=e.disabled,p=e.bordered,y=void 0===p||p,g=e.valueModifiers,b=void 0===g?{}:g,m=e.htmlSize,w=n(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),h=a(a(a({},w),d),{autocomplete:K.value,onChange:X,onInput:X,onFocus:L,onBlur:U,onKeydown:Y,class:t(j(M.value,y,V.value,v,R.value),o({},d.class,d.class&&!i&&!f)),ref:F,key:"ant-input",size:m,id:null!==(r=w.id)&&void 0!==r?r:O.id.value});b.lazy&&delete h.onInput,h.autofocus||delete h.autofocus;var B=s("input",n(h,["size"]),null);return x(B,[[C]])},$=function(){var a,n=E.value,r=e.maxlength,l=e.suffix,i=void 0===l?null===(a=u.suffix)||void 0===a?void 0:a.call(u):l,d=e.showCount,c=Number(r)>0;if(i||d){var f=b(N(n)).length,v=null;return v="object"===m(d)?d.formatter({count:f,maxlength:r}):"".concat(f).concat(c?" / ".concat(r):""),s(w,null,[!!d&&s("span",{class:t("".concat(M.value,"-show-count-suffix"),o({},"".concat(M.value,"-show-count-has-suffix"),!!i))},[v]),i])}return null};return function(){var t=a(a(a({},d),e),{prefixCls:M.value,inputType:"input",value:N(E.value),handleReset:Q,focused:D.value&&!e.disabled});return s(I,g(g({},n(t,["element","valueModifiers","suffix","showCount"])),{},{ref:z}),a(a({},u),{element:Z,suffix:$}))}}});export{I as C,M as I,k as a,N as f,F as i,P as r,z as t};
