import{d as e,b as t,a0 as l,c as a,K as d,i,B as n,aI as r,cE as o}from"./index.48f34480.js";import{P as s}from"./PageWrapper.fa80137e.js";import{A as c,a as u,C as p}from"./Card.9cbad327.js";import{A as y}from"./index.fa237d7c.js";import"./Col.0443a4c4.js";import"./useFlexGapSupport.0ed8aa8a.js";import"./iconUtil.22d5268e.js";import"./List.587632d1.js";const h=[{key:"1-0",title:"一级 1",children:[{key:"1-1",title:"二级 1-1",children:[{key:"1-1-1",title:"三级 1-1-1"},{key:"1-1-2",title:"三级 1-1-2"}]}]},{key:"2-0",title:"一级 2",children:[{key:"2-1",title:"二级 2-1"},{key:"2-2",title:"二级 2-2",disabled:!0}]},{key:"3-0",title:"一级 3",children:[{key:"3-1",title:"二级 3-1"},{key:"3-2",title:"二级 3-2",children:[{key:"3-2-1",title:"三级 3-2-1",disableCheckbox:!0},{key:"3-2-2",title:"三级 3-2-2"},{key:"3-2-3",title:"三级 3-2-3"}]}]}],f=e({name:"AntdTree",setup(){const e=t(["2-1","3-2-2"]),f=t([]),k=t([]),m=t(l(h)),v=t([{title:"Expand to load",key:"0"},{title:"Expand to load",key:"1"},{title:"Tree Node",key:"2",isLeaf:!0}]);function b(){r(o)}function x(e){return new Promise((t=>{e.dataRef.children?t():setTimeout((()=>{e.dataRef.children=[{title:"Child Node",key:`${e.eventKey}-0`},{title:"Child Node",key:`${e.eventKey}-1`}],v.value=[...v.value],t()}),1e3)}))}function g(e){var t;const l=e.node.key,a=e.dragNode.key,d=null==(t=e.node.pos)?void 0:t.split("-"),i=e.dropPosition-Number(d[d.length-1]),n=(e=[],t,l)=>{e.forEach(((a,d)=>a.key===t?l(a,d,e):a.children?n(a.children,t,l):void 0))},r=[...m.value];let o;if(n(r,a,((e,t,l=[])=>{l.splice(t,1),o=e})),e.dropToGap)if((e.node.children||[]).length>0&&e.node.expanded&&1===i)n(r,l,(e=>{e.children=e.children||[],e.children.unshift(o)}));else{let e=[],t=0;n(r,l,((l,a,d)=>{e=d,t=a})),-1===i?e.splice(t,0,o):e.splice(t+1,0,o)}else n(r,l,(e=>{e.children=e.children||[],e.children.unshift(o)}));m.value=r}return()=>a(s,{name:"Tree树形控件"},{header:()=>a(d,null,[a("p",null,[i("ant-design-tree: 基于Ant-Design的Tree组件, 可以完整展现其中的层级关系, 并具有展开收起选择等交互功能。")]),a("p",null,[i("组件地址:"),a(n,{type:"link",onClick:b},{default:()=>[i("立即访问")]})])]),default:()=>a(c,{gutter:12},{default:()=>[a(u,{span:8},{default:()=>[a(p,{title:"可选择节点",bordered:!1,bodyStyle:{height:"420px"}},{default:()=>[a(y,{checkedKeys:e.value,"onUpdate:checkedKeys":t=>e.value=t,treeData:h,checkable:!0,defaultExpandAll:!0},null)]})]}),a(u,{span:8},{default:()=>[a(p,{title:"懒加载节点",bordered:!1,bodyStyle:{height:"420px"}},{default:()=>[a(y,{expandedKeys:f.value,"onUpdate:expandedKeys":e=>f.value=e,selectedKeys:k.value,"onUpdate:selectedKeys":e=>k.value=e,checkable:!0,treeData:v.value,loadData:x},null)]})]}),a(u,{span:8},{default:()=>[a(p,{title:"可拖拽节点",bordered:!1,bodyStyle:{height:"420px"}},{default:()=>[a(y,{treeData:m.value,draggable:!0,blockNode:!0,defaultExpandAll:!0,onDrop:g},null)]})]})]})})}});export{f as default};
