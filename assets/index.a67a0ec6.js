import{c as e,A as t,z as n,d as a,ao as o,$ as l,O as c,b as r,l as i,Z as d,q as u,ar as s,a2 as v,N as f,J as p,a4 as y,aO as h,n as b,P as K,aT as x,a5 as k,am as m}from"./index.70334207.js";import{r as O,T as g,t as w,c as N,F as A,a as E,b as j,f as S,V as D,d as B}from"./iconUtil.28adbeeb.js";const P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){H(e,t,n[t])}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(n,a){var o=C({},n,a.attrs);return e(t,C({},o,{icon:P}),null)};I.displayName="FolderOpenOutlined",I.inheritAttrs=!1;const T=I;const F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){U(e,t,n[t])}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(n,a){var o=L({},n,a.attrs);return e(t,L({},o,{icon:F}),null)};V.displayName="FolderOutlined",V.inheritAttrs=!1;const z=V;function M(t){var a,o=t.dropPosition,l=t.dropLevelOffset,c=t.prefixCls,r=t.indent,i=t.direction,d=void 0===i?"ltr":i,u="ltr"===d?"left":"right",s="ltr"===d?"right":"left",v=(n(a={},u,"".concat(-l*r+4,"px")),n(a,s,0),a);switch(o){case-1:v.top="".concat(-3,"px");break;case 1:v.bottom="".concat(-3,"px");break;default:v.bottom="".concat(-3,"px"),v[u]="".concat(r+4,"px")}return e("div",{style:v,class:"".concat(c,"-drop-indicator")},null)}var R=function(){var e=w();return u(u({},e),{showLine:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandParent:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},checkedKeys:{type:[Array,Object]},defaultCheckedKeys:{type:Array},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},selectable:{type:Boolean,default:void 0},loadedKeys:{type:Array},draggable:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:{type:Function},switcherIcon:y.any,prefixCls:String,replaceFields:{type:Object},blockNode:{type:Boolean,default:void 0},openAnimation:y.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Function,"onUpdate:checkedKeys":Function,"onUpdate:expandedKeys":Function})};const _=a({name:"ATree",inheritAttrs:!1,props:o(R(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:["icon","title","switcherIcon","titleRender"],setup:function(t,a){var o=a.attrs,y=a.expose,b=a.emit,K=a.slots;l(!(void 0===t.treeData&&K.default));var x=c("tree",t),k=x.prefixCls,m=x.direction,w=x.virtual,N=r();y({treeRef:N,onNodeExpand:function(){var e,t;null===(t=N.value)||void 0===t||(e=t).onNodeExpand.apply(e,arguments)},scrollTo:function(e){var t;null===(t=N.value)||void 0===t||t.scrollTo(e)},selectedKeys:i((function(){var e;return null===(e=N.value)||void 0===e?void 0:e.selectedKeys})),checkedKeys:i((function(){var e;return null===(e=N.value)||void 0===e?void 0:e.checkedKeys})),halfCheckedKeys:i((function(){var e;return null===(e=N.value)||void 0===e?void 0:e.halfCheckedKeys})),loadedKeys:i((function(){var e;return null===(e=N.value)||void 0===e?void 0:e.loadedKeys})),loadingKeys:i((function(){var e;return null===(e=N.value)||void 0===e?void 0:e.loadingKeys})),expandedKeys:i((function(){var e;return null===(e=N.value)||void 0===e?void 0:e.expandedKeys}))}),d((function(){h(void 0===t.replaceFields,"Tree","`replaceFields` is deprecated, please use fieldNames instead")}));var A=function(e,t){b("update:checkedKeys",e),b("check",e,t)},E=function(e,t){b("update:expandedKeys",e),b("expand",e,t)},j=function(e,t){b("update:selectedKeys",e),b("select",e,t)};return function(){var a,l=t.showIcon,c=t.showLine,r=t.switcherIcon,i=void 0===r?K.switcherIcon:r,d=t.icon,y=void 0===d?K.icon:d,h=t.blockNode,b=t.checkable,x=t.selectable,S=t.fieldNames,D=void 0===S?t.replaceFields:S,B=t.motion,P=void 0===B?t.openAnimation:B,C=t.itemHeight,H=void 0===C?28:C,I=t.onDoubleclick,T=t.onDblclick,F=u(u(u({},o),s(t,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:Boolean(c),dropIndicatorRender:M,fieldNames:D,icon:y,itemHeight:H}),L=K.default?v(K.default()):void 0;return e(g,f(f({},F),{},{virtual:w.value,motion:P,ref:N,prefixCls:k.value,class:p((a={},n(a,"".concat(k.value,"-icon-hide"),!l),n(a,"".concat(k.value,"-block-node"),h),n(a,"".concat(k.value,"-unselectable"),!x),n(a,"".concat(k.value,"-rtl"),"rtl"===m.value),a),o.class),direction:m.value,checkable:b,selectable:x,switcherIcon:function(e){return O(k.value,i,c,e)},onCheck:A,onExpand:E,onSelect:j,onDblclick:T||I,children:L}),u(u({},K),{checkable:function(){return e("span",{class:"".concat(k.value,"-checkbox-inner")},null)}}))}}});var q,J;function Z(e,t,n){e.forEach((function(e){var a=e[t.key],o=e[t.children];!1!==n(a,e)&&Z(o||[],t,n)}))}function $(e){var t=e.treeData,n=e.expandedKeys,a=e.startKey,o=e.endKey,l=e.fieldNames,c=void 0===l?{title:"title",key:"key",children:"children"}:l,r=[],i=q.None;if(a&&a===o)return[a];if(!a||!o)return[];return Z(t,c,(function(e){if(i===q.End)return!1;if(function(e){return e===a||e===o}(e)){if(r.push(e),i===q.None)i=q.Start;else if(i===q.Start)return i=q.End,!1}else i===q.Start&&r.push(e);return-1!==n.indexOf(e)})),r}function G(e,t,n){var a=b(t),o=[];return Z(e,n,(function(e,t){var n=a.indexOf(e);return-1!==n&&(o.push(t),a.splice(n,1)),!!a.length})),o}(J=q||(q={}))[J.None=0]="None",J[J.Start=1]="Start",J[J.End=2]="End";var Q=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};function W(t){var n=t.isLeaf,a=t.expanded;return e(n?A:a?T:z,null,null)}const X=a({name:"ADirectoryTree",inheritAttrs:!1,props:o(u(u({},R()),{expandAction:{type:[Boolean,String]}}),{showIcon:!0,expandAction:"click"}),slots:["icon","title","switcherIcon","titleRender"],setup:function(t,a){var o,l=a.attrs,d=a.slots,s=a.emit,y=a.expose,h=r(t.treeData||N(v(null===(o=d.default)||void 0===o?void 0:o.call(d))));K((function(){return t.treeData}),(function(){h.value=t.treeData})),x((function(){k((function(){var e;void 0===t.treeData&&d.default&&(h.value=N(v(null===(e=d.default)||void 0===e?void 0:e.call(d))))}))}));var O=r(),g=r(),w=r();y({selectedKeys:i((function(){var e;return null===(e=w.value)||void 0===e?void 0:e.selectedKeys})),checkedKeys:i((function(){var e;return null===(e=w.value)||void 0===e?void 0:e.checkedKeys})),halfCheckedKeys:i((function(){var e;return null===(e=w.value)||void 0===e?void 0:e.halfCheckedKeys})),loadedKeys:i((function(){var e;return null===(e=w.value)||void 0===e?void 0:e.loadedKeys})),loadingKeys:i((function(){var e;return null===(e=w.value)||void 0===e?void 0:e.loadingKeys})),expandedKeys:i((function(){var e;return null===(e=w.value)||void 0===e?void 0:e.expandedKeys}))});var A,D=r(t.selectedKeys||t.defaultSelectedKeys||[]),B=r((A=E(h.value).keyEntities,t.defaultExpandAll?Object.keys(A):t.defaultExpandParent?j(t.expandedKeys||t.defaultExpandedKeys||[],A):t.expandedKeys||t.defaultExpandedKeys));K((function(){return t.selectedKeys}),(function(){void 0!==t.selectedKeys&&(D.value=t.selectedKeys)}),{immediate:!0}),K((function(){return t.expandedKeys}),(function(){void 0!==t.expandedKeys&&(B.value=t.expandedKeys)}),{immediate:!0});var P=m((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||w.value.onNodeExpand(e,t)}),200,{leading:!0}),C=function(e,n){void 0===t.expandedKeys&&(B.value=e),s("update:expandedKeys",e),s("expand",e,n)},H=function(e,n){"click"===t.expandAction&&P(e,n),s("click",e,n)},I=function(e,n){var a=t.expandAction;"dblclick"!==a&&"doubleclick"!==a||P(e,n),s("doubleclick",e,n),s("dblclick",e,n)},T=i((function(){return S(t.fieldNames)})),F=function(e,n){var a,o=t.multiple,l=n.node,c=n.nativeEvent,r=l[T.value.key],i=u(u({},n),{selected:!0}),d=(null==c?void 0:c.ctrlKey)||(null==c?void 0:c.metaKey),v=null==c?void 0:c.shiftKey;o&&d?(a=e,O.value=r,g.value=a,i.selectedNodes=G(h.value,a,T.value)):o&&v?(a=Array.from(new Set([].concat(b(g.value||[]),b($({treeData:h.value,expandedKeys:B.value,startKey:r,endKey:O.value,fieldNames:T.value}))))),i.selectedNodes=G(h.value,a,T.value)):(a=[r],O.value=r,g.value=a,i.selectedNodes=G(h.value,a,T.value)),s("update:selectedKeys",a),s("select",a,i),void 0===t.selectedKeys&&(D.value=a)},L=function(e,t){s("update:checkedKeys",e),s("check",e,t)},U=c("tree",t),V=U.prefixCls,z=U.direction;return function(){var a=p("".concat(V.value,"-directory"),n({},"".concat(V.value,"-directory-rtl"),"rtl"===z.value),l.class),o=t.icon,c=void 0===o?d.icon:o,r=t.blockNode,i=void 0===r||r,u=Q(t,["icon","blockNode"]);return e(_,f(f(f({},l),{},{icon:c||W,ref:w,blockNode:i},u),{},{prefixCls:V.value,class:a,expandedKeys:B.value,selectedKeys:D.value,onSelect:F,onClick:H,onDblclick:I,onExpand:C,onCheck:L}),d)}}});var Y=a(u(u({},D),{name:"ATreeNode",props:B}));const ee=u(_,{DirectoryTree:X,TreeNode:Y,install:function(e){return e.component(_.name,_),e.component(Y.name,Y),e.component(X.name,X),e}});export{ee as A};
