import{d as e,c as t,B as n,i as a,j as r}from"./index.70334207.js";import{A as o}from"./index.e8ec2f1a.js";const s=e({name:"UploadImage",emits:["success"],setup(e,{emit:s}){function i(e){const{file:t}=e,n=t.originFileObj;if(!n)return;if(!/\.(jpg|png|bmp|jpeg|webp)$/.test(n.name))return void r.warning("图片只支持.jpg, .png, .bmp, .jpeg, .webp格式!");n.size/1024/1024<5?function(e){const t=new FileReader;t.onload=e=>{const t=e.target&&e.target.result,n="object"==typeof t?window.URL.createObjectURL(new Blob([t])):t;s("success",n)},t.readAsDataURL(e),t.onerror=()=>{r.error("图片读取出错!")}}(n):r.warning("上传的图片大小不能超过5M!")}return()=>t(o,{action:"",accept:".jpg, .jpeg, .gif, .png, .bmp",multiple:!1,showUploadList:!1,onChange:i},{default:()=>[t(n,{type:"primary"},{default:()=>[a("上传图片")]})]})}});export{s as U};
